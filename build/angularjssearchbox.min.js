(function(h){var d,t,a=this,c=Math.round,f=0,m=1,p=2,g=3,y=4,o=5,l=6,u={},i={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},v="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,s=/^\/?Date\((\-?\d+)/i,D=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,b=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,_=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,r=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,k=/\d\d?/,w=/\d{1,3}/,Y=/\d{1,4}/,M=/[+\-]?\d{1,6}/,C=/\d+/,$=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,L=/Z|[\+\-]\d\d:?\d\d/gi,O=/T/i,x=/[\+\-]?\d+(\.\d{1,3})?/,S=/\d/,T=/\d\d/,P=/\d{3}/,R=/\d{4}/,F=/[+-]?\d{6}/,I=/[+-]?\d+/,W=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,A=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],G=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],E=/([\+\-]|\d\d)/gi,e="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),n={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},H={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},U={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},j={},z="DDD w W M D d".split(" "),N="M D H h m s w W".split(" "),V={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return et(this.year()%100,2)},YYYY:function(){return et(this.year(),4)},YYYYY:function(){return et(this.year(),5)},YYYYYY:function(){var t=this.year();return(0<=t?"+":"-")+et(Math.abs(t),6)},gg:function(){return et(this.weekYear()%100,2)},gggg:function(){return et(this.weekYear(),4)},ggggg:function(){return et(this.weekYear(),5)},GG:function(){return et(this.isoWeekYear()%100,2)},GGGG:function(){return et(this.isoWeekYear(),4)},GGGGG:function(){return et(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return lt(this.milliseconds()/100)},SS:function(){return et(lt(this.milliseconds()/10),2)},SSS:function(){return et(this.milliseconds(),3)},SSSS:function(){return et(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+et(lt(t/60),2)+":"+et(lt(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return t<0&&(t=-t,e="-"),e+et(lt(t/60),2)+et(lt(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},B=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];function Z(e,n){return function(t){return et(e.call(this,t),n)}}function K(e,n){return function(t){return this.lang().ordinal(e.call(this,t),n)}}for(;z.length;)t=z.pop(),V[t+"o"]=K(V[t],t);for(;N.length;)t=N.pop(),V[t+t]=Z(V[t],2);function J(){}function q(t){dt(t),Q(this,t)}function X(t){var e=rt(t),n=e.year||0,a=e.month||0,i=e.week||0,s=e.day||0,r=e.hour||0,o=e.minute||0,l=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*l+6e4*o+36e5*r,this._days=+s+7*i,this._months=+a+12*n,this._data={},this._bubble()}function Q(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return e.hasOwnProperty("toString")&&(t.toString=e.toString),e.hasOwnProperty("valueOf")&&(t.valueOf=e.valueOf),t}function tt(t){return t<0?Math.ceil(t):Math.floor(t)}function et(t,e,n){for(var a=""+Math.abs(t),i=0<=t;a.length<e;)a="0"+a;return(i?n?"+":"":"-")+a}function nt(t,e,n,a){var i,s,r=e._milliseconds,o=e._days,l=e._months;r&&t._d.setTime(+t._d+r*n),(o||l)&&(i=t.minute(),s=t.hour()),o&&t.date(t.date()+o*n),l&&t.month(t.month()+l*n),r&&!a&&d.updateOffset(t),(o||l)&&(t.minute(i),t.hour(s))}function at(t){return"[object Array]"===Object.prototype.toString.call(t)}function it(t,e,n){var a,i=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(a=0;a<i;a++)(n&&t[a]!==e[a]||!n&&lt(t[a])!==lt(e[a]))&&r++;return r+s}function st(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=H[t]||U[e]||e}return t}function rt(t){var e,n,a={};for(n in t)t.hasOwnProperty(n)&&(e=st(n))&&(a[e]=t[n]);return a}function ot(r){var o,l;if(0===r.indexOf("week"))o=7,l="day";else{if(0!==r.indexOf("month"))return;o=12,l="month"}d[r]=function(n,t){var e,a,i=d.fn._lang[r],s=[];if("number"==typeof n&&(t=n,n=h),a=function(t){var e=d().utc().set(l,t);return i.call(d.fn._lang,e,n||"")},null!=t)return a(t);for(e=0;e<o;e++)s.push(a(e));return s}}function lt(t){var e=+t,n=0;return 0!=e&&isFinite(e)&&(n=0<=e?Math.floor(e):Math.ceil(e)),n}function ht(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function ct(t){return ut(t)?366:365}function ut(t){return t%4==0&&t%100!=0||t%400==0}function dt(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[m]<0||11<t._a[m]?m:t._a[p]<1||t._a[p]>ht(t._a[f],t._a[m])?p:t._a[g]<0||23<t._a[g]?g:t._a[y]<0||59<t._a[y]?y:t._a[o]<0||59<t._a[o]?o:t._a[l]<0||999<t._a[l]?l:-1,t._pf._overflowDayOfYear&&(e<f||p<e)&&(e=p),t._pf.overflow=e)}function ft(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function mt(t){return t?t.toLowerCase().replace("_","-"):t}function pt(t,e){return e._isUTC?d(t).zone(e._offset||0):d(t).local()}function gt(t){function e(t){if(!u[t]&&v)try{require("./lang/"+t)}catch(t){}return u[t]}var n,a,i,s,r=0;if(!t)return d.fn._lang;if(!at(t)){if(a=e(t))return a;t=[t]}for(;r<t.length;){for(n=(s=mt(t[r]).split("-")).length,i=(i=mt(t[r+1]))?i.split("-"):null;0<n;){if(a=e(s.slice(0,n).join("-")))return a;if(i&&i.length>=n&&it(s,i,!0)>=n-1)break;n--}r++}return d.fn._lang}function yt(t,e){return t.isValid()?(e=vt(e,t.lang()),j[e]||(j[e]=function(n){var a,i,t,s=n.match(_);for(a=0,i=s.length;a<i;a++)V[s[a]]?s[a]=V[s[a]]:s[a]=(t=s[a]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(t){var e="";for(a=0;a<i;a++)e+=s[a]instanceof Function?s[a].call(t,n):s[a];return e}}(e)),j[e](t)):t.lang().invalidDate()}function vt(t,e){var n=5;function a(t){return e.longDateFormat(t)||t}for(r.lastIndex=0;0<=n&&r.test(t);)t=t.replace(r,a),r.lastIndex=0,n-=1;return t}function Dt(t,e){var n=e._strict;switch(t){case"DDDD":return P;case"YYYY":case"GGGG":case"gggg":return n?R:Y;case"Y":case"G":case"g":return I;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?F:M;case"S":if(n)return S;case"SS":if(n)return T;case"SSS":if(n)return P;case"DDD":return w;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return $;case"a":case"A":return gt(e._l)._meridiemParse;case"X":return x;case"Z":case"ZZ":return L;case"T":return O;case"SSSS":return C;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?T:k;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return k;default:return new RegExp(function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(function(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,a,i){return e||n||a||i})}(t.replace("\\",""))))}}function bt(t){var e=(t=t||"").match(L)||[],n=((e[e.length-1]||[])+"").match(E)||["-",0,0],a=60*n[1]+lt(n[2]);return"+"===n[0]?-a:a}function _t(t,e,n){var a,i=n._a;switch(t){case"M":case"MM":null!=e&&(i[m]=lt(e)-1);break;case"MMM":case"MMMM":null!=(a=gt(n._l).monthsParse(e))?i[m]=a:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(i[p]=lt(e));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=lt(e));break;case"YY":i[f]=lt(e)+(68<lt(e)?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":i[f]=lt(e);break;case"a":case"A":n._isPm=gt(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":i[g]=lt(e);break;case"m":case"mm":i[y]=lt(e);break;case"s":case"ss":i[o]=lt(e);break;case"S":case"SS":case"SSS":case"SSSS":i[l]=lt(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=bt(e);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":t=t.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=e)}}function kt(n){var t,e,a,i,s,r,o,l,h,c,u=[];if(!n._d){for(a=function(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(n),n._w&&null==n._a[p]&&null==n._a[m]&&(s=function(t){var e=parseInt(t,10);return t?t.length<3?68<e?1900+e:2e3+e:e:null==n._a[f]?d().weekYear():n._a[f]},o=null!=(r=n._w).GG||null!=r.W||null!=r.E?Lt(s(r.GG),r.W||1,r.E,4,1):(l=gt(n._l),h=null!=r.d?Ct(r.d,l):null!=r.e?parseInt(r.e,10)+l._week.dow:0,c=parseInt(r.w,10)||1,null!=r.d&&h<l._week.dow&&c++,Lt(s(r.gg),c,h,l._week.doy,l._week.dow)),n._a[f]=o.year,n._dayOfYear=o.dayOfYear),n._dayOfYear&&(i=null==n._a[f]?a[f]:n._a[f],n._dayOfYear>ct(i)&&(n._pf._overflowDayOfYear=!0),e=Mt(i,0,n._dayOfYear),n._a[m]=e.getUTCMonth(),n._a[p]=e.getUTCDate()),t=0;t<3&&null==n._a[t];++t)n._a[t]=u[t]=a[t];for(;t<7;t++)n._a[t]=u[t]=null==n._a[t]?2===t?1:0:n._a[t];u[g]+=lt((n._tzm||0)/60),u[y]+=lt((n._tzm||0)%60),n._d=(n._useUTC?Mt:function(t,e,n,a,i,s,r){var o=new Date(t,e,n,a,i,s,r);t<1970&&o.setFullYear(t);return o}).apply(null,u)}}function wt(t){t._a=[],t._pf.empty=!0;var e,n,a,i,s,r=gt(t._l),o=""+t._i,l=o.length,h=0;for(a=vt(t._f,r).match(_)||[],e=0;e<a.length;e++)i=a[e],(n=(o.match(Dt(i,t))||[])[0])&&(0<(s=o.substr(0,o.indexOf(n))).length&&t._pf.unusedInput.push(s),o=o.slice(o.indexOf(n)+n.length),h+=n.length),V[i]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(i),_t(i,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(i);t._pf.charsLeftOver=l-h,0<o.length&&t._pf.unusedInput.push(o),t._isPm&&t._a[g]<12&&(t._a[g]+=12),!1===t._isPm&&12===t._a[g]&&(t._a[g]=0),kt(t),dt(t)}function Yt(t){var e=t._i,n=s.exec(e);e===h?t._d=new Date:n?t._d=new Date(+n[1]):"string"==typeof e?function(t){var e,n,a=t._i,i=W.exec(a);if(i){for(t._pf.iso=!0,e=0,n=A.length;e<n;e++)if(A[e][1].exec(a)){t._f=A[e][0]+(i[6]||" ");break}for(e=0,n=G.length;e<n;e++)if(G[e][1].exec(a)){t._f+=G[e][0];break}a.match(L)&&(t._f+="Z"),wt(t)}else t._d=new Date(a)}(t):at(e)?(t._a=e.slice(0),kt(t)):function(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}(e)?t._d=new Date(+e):"object"==typeof e?function(t){var e;t._d||(e=rt(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],kt(t))}(t):t._d=new Date(e)}function Mt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function Ct(t,e){if("string"==typeof t)if(isNaN(t)){if("number"!=typeof(t=e.weekdaysParse(t)))return null}else t=parseInt(t,10);return t}function $t(t,e,n){var a,i=n-e,s=n-t.day();return i<s&&(s-=7),s<i-7&&(s+=7),a=d(t).add("d",s),{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function Lt(t,e,n,a,i){var s,r=Mt(t,0,1).getUTCDay();return{year:0<(s=7*(e-1)+((n=null!=n?n:i)-i)+(i-r+(a<r?7:0)-(r<i?7:0))+1)?t:t-1,dayOfYear:0<s?s:ct(t-1)+s}}function Ot(t){var e=t._i,n=t._f;return null===e?d.invalid({nullInput:!0}):("string"==typeof e&&(t._i=e=gt().preparse(e)),d.isMoment(e)?(t=function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&i.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))._d=new Date(+e._d):n?at(n)?function(t){var e,n,a,i,s;if(0===t._f.length)return t._pf.invalidFormat=!0,t._d=new Date(NaN);for(i=0;i<t._f.length;i++)s=0,(e=Q({},t))._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},e._f=t._f[i],wt(e),ft(e)&&(s+=e._pf.charsLeftOver,s+=10*e._pf.unusedTokens.length,e._pf.score=s,(null==a||s<a)&&(a=s,n=e));Q(t,n||e)}(t):wt(t):Yt(t),new q(t))}for(V.DDDD=Z(V.DDD,3),Q(J.prototype,{set:function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,a;for(this._monthsParse||(this._monthsParse=[]),e=0;e<12;e++)if(this._monthsParse[e]||(n=d.utc([2e3,e]),a="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(a.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,a;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;e<7;e++)if(this._weekdaysParse[e]||(n=d([2e3,1]).day(e),a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,a){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,a):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[0<t?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return $t(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),(d=function(t,e,n,a){var i;return"boolean"==typeof n&&(a=n,n=h),(i={_isAMomentObject:!0})._i=t,i._f=e,i._l=n,i._strict=a,i._isUTC=!1,i._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},Ot(i)}).utc=function(t,e,n,a){var i;return"boolean"==typeof n&&(a=n,n=h),(i={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0})._l=n,i._i=t,i._f=e,i._strict=a,i._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1},Ot(i).utc()},d.unix=function(t){return d(1e3*t)},d.duration=function(t,e){var n,a,i,s=t,r=null;return d.isDuration(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(r=D.exec(t))?(n="-"===r[1]?-1:1,s={y:0,d:lt(r[p])*n,h:lt(r[g])*n,m:lt(r[y])*n,s:lt(r[o])*n,ms:lt(r[l])*n}):(r=b.exec(t))&&(n="-"===r[1]?-1:1,s={y:(i=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n})(r[2]),M:i(r[3]),d:i(r[4]),h:i(r[5]),m:i(r[6]),s:i(r[7]),w:i(r[8])}),a=new X(s),d.isDuration(t)&&t.hasOwnProperty("_lang")&&(a._lang=t._lang),a},d.version="2.5.1",d.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",d.updateOffset=function(){},d.lang=function(t,e){return t?(e?function(t,e){e.abbr=t,u[t]||(u[t]=new J),u[t].set(e),u[t]}(mt(t),e):null===e?(function(t){delete u[t]}(t),t="en"):u[t]||gt(t),(d.duration.fn._lang=d.fn._lang=gt(t))._abbr):d.fn._lang._abbr},d.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),gt(t)},d.isMoment=function(t){return t instanceof q||null!=t&&t.hasOwnProperty("_isAMomentObject")},d.isDuration=function(t){return t instanceof X},t=B.length-1;0<=t;--t)ot(B[t]);function xt(t,n){d.fn[t]=d.fn[t+"s"]=function(t){var e=this._isUTC?"UTC":"";return null!=t?(this._d["set"+e+n](t),d.updateOffset(this),this):this._d["get"+e+n]()}}for(d.normalizeUnits=function(t){return st(t)},d.invalid=function(t){var e=d.utc(NaN);return null!=t?Q(e._pf,t):e._pf.userInvalidated=!0,e},d.parseZone=function(t){return d(t).parseZone()},Q(d.fn=q.prototype,{clone:function(){return d(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=d(this).utc();return 0<t.year()&&t.year()<=9999?yt(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):yt(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return ft(this)},isDSTShifted:function(){return!!this._a&&(this.isValid()&&0<it(this._a,(this._isUTC?d.utc(this._a):d(this._a)).toArray()))},parsingFlags:function(){return Q({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=yt(this,t||d.defaultFormat);return this.lang().postformat(e)},add:function(t,e){return nt(this,"string"==typeof t?d.duration(+e,t):d.duration(t,e),1),this},subtract:function(t,e){return nt(this,"string"==typeof t?d.duration(+e,t):d.duration(t,e),-1),this},diff:function(t,e,n){var a,i,s=pt(t,this),r=6e4*(this.zone()-s.zone());return"year"===(e=st(e))||"month"===e?(a=432e5*(this.daysInMonth()+s.daysInMonth()),i=12*(this.year()-s.year())+(this.month()-s.month()),i+=(this-d(this).startOf("month")-(s-d(s).startOf("month")))/a,i-=6e4*(this.zone()-d(this).startOf("month").zone()-(s.zone()-d(s).startOf("month").zone()))/a,"year"===e&&(i/=12)):(a=this-s,i="second"===e?a/1e3:"minute"===e?a/6e4:"hour"===e?a/36e5:"day"===e?(a-r)/864e5:"week"===e?(a-r)/6048e5:a),n?i:tt(i)},from:function(t,e){return d.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(d(),t)},calendar:function(){var t=pt(d(),this).startOf("day"),e=this.diff(t,"days",!0),n=e<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return ut(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Ct(t,this.lang()),this.add({d:t-e})):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?("string"==typeof t&&"number"!=typeof(t=this.lang().monthsParse(t))||(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),d.updateOffset(this)),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=st(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),this},endOf:function(t){return t=st(t),this.startOf(t).add("isoWeek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)>+d(t).startOf(e)},isBefore:function(t,e){return e=void 0!==e?e:"millisecond",+this.clone().startOf(e)<+d(t).startOf(e)},isSame:function(t,e){return e=e||"ms",+this.clone().startOf(e)==+pt(t,this).startOf(e)},min:function(t){return(t=d.apply(null,arguments))<this?this:t},max:function(t){return this<(t=d.apply(null,arguments))?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=bt(t)),Math.abs(t)<16&&(t*=60),this._offset=t,this._isUTC=!0,e!==t&&nt(this,d.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?d(t).zone():0,(this.zone()-t)%60==0},daysInMonth:function(){return ht(this.year(),this.month())},dayOfYear:function(t){var e=c((d(this).startOf("day")-d(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(t){var e=$t(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=$t(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=$t(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this.day()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},get:function(t){return this[t=st(t)]()},set:function(t,e){return"function"==typeof this[t=st(t)]&&this[t](e),this},lang:function(t){return t===h?this._lang:(this._lang=gt(t),this)}}),t=0;t<e.length;t++)xt(e[t].toLowerCase().replace(/s$/,""),e[t]);function St(t){d.duration.fn[t]=function(){return this._data[t]}}function Tt(t,e){d.duration.fn["as"+t]=function(){return+this/e}}for(t in xt("year","FullYear"),d.fn.days=d.fn.day,d.fn.months=d.fn.month,d.fn.weeks=d.fn.week,d.fn.isoWeeks=d.fn.isoWeek,d.fn.toJSON=d.fn.toISOString,Q(d.duration.fn=X.prototype,{_bubble:function(){var t,e,n,a,i=this._milliseconds,s=this._days,r=this._months,o=this._data;o.milliseconds=i%1e3,t=tt(i/1e3),o.seconds=t%60,e=tt(t/60),o.minutes=e%60,n=tt(e/60),o.hours=n%24,s+=tt(n/24),o.days=s%30,r+=tt(s/30),o.months=r%12,a=tt(r/12),o.years=a},weeks:function(){return tt(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*lt(this._months/12)},humanize:function(t){var e=+this,n=function(t,e,n){var a=c(Math.abs(t)/1e3),i=c(a/60),s=c(i/60),r=c(s/24),o=c(r/365),l=a<45&&["s",a]||1===i&&["m"]||i<45&&["mm",i]||1===s&&["h"]||s<22&&["hh",s]||1===r&&["d"]||r<=25&&["dd",r]||r<=45&&["M"]||r<345&&["MM",c(r/30)]||1===o&&["y"]||["yy",o];return l[2]=e,l[3]=0<t,l[4]=n,function(t,e,n,a,i){return i.relativeTime(e||1,!!n,t,a)}.apply({},l)}(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=d.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=d.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return this[(t=st(t)).toLowerCase()+"s"]()},as:function(t){return this["as"+(t=st(t)).charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:d.fn.lang,toIsoString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),a=Math.abs(this.hours()),i=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(a||i||s?"T":"")+(a?a+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}}),n)n.hasOwnProperty(t)&&(Tt(t,n[t]),St(t.toLowerCase()));function Pt(t){var e=!1,n=d;"undefined"==typeof ender&&(t?(a.moment=function(){return!e&&console&&console.warn&&(e=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)},Q(a.moment,n)):a.moment=d)}Tt("Weeks",6048e5),d.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},d.lang("en",{ordinal:function(t){var e=t%10;return t+(1===lt(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th")}}),v?(module.exports=d,Pt(!0)):"function"==typeof define&&define.amd?define("moment",function(t,e,n){return n.config&&n.config()&&!0!==n.config().noGlobal&&Pt(n.config().noGlobal===h),d}):Pt()}).call(this),function(p,g){function a(t,e,n){this.parentEl="body",this.element=p(t),"object"==typeof e&&null!==e||(e={}),this.parentEl="object"==typeof e&&e.parentEl&&p(e.parentEl).length?p(e.parentEl):p(this.parentEl),this.container=p('<div class="daterangepicker dropdown-menu"><div class="calendar left"></div><div class="calendar right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>').appendTo(this.parentEl),this.setOptions(e,n);var a=this.container;p.each(this.buttonClasses,function(t,e){a.find("button").addClass(e)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",p.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",p.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",p.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",p.proxy(this.enterDate,this)).on("mouseleave.daterangepicker","td.available",p.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",p.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",p.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.ampmselect",p.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",p.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",p.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",p.proxy(this.showCalendars,this)).on("click.daterangepicker","li",p.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",p.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",p.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":p.proxy(this.show,this),"focus.daterangepicker":p.proxy(this.show,this),"keyup.daterangepicker":p.proxy(this.updateFromControl,this)}):this.element.on("click.daterangepicker",p.proxy(this.toggle,this))}a.prototype={constructor:a,setOptions:function(t,e){if(this.startDate=g().startOf("week").startOf("day"),this.endDate=g().startOf("week").endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:g()._lang._weekdaysMin.slice(),monthNames:g()._lang._monthsShort.slice(),firstDay:0},this.cb=function(){},"string"==typeof t.format&&(this.format=t.format),"string"==typeof t.separator&&(this.separator=t.separator),"string"==typeof t.startDate&&(this.startDate=g(t.startDate,this.format)),"string"==typeof t.endDate&&(this.endDate=g(t.endDate,this.format)),"string"==typeof t.minDate&&(this.minDate=g(t.minDate,this.format)),"string"==typeof t.maxDate&&(this.maxDate=g(t.maxDate,this.format)),"object"==typeof t.startDate&&(this.startDate=g(t.startDate)),"object"==typeof t.endDate&&(this.endDate=g(t.endDate)),"object"==typeof t.minDate&&(this.minDate=g(t.minDate)),"object"==typeof t.maxDate&&(this.maxDate=g(t.maxDate)),"string"==typeof t.applyClass&&(this.applyClass=t.applyClass),"string"==typeof t.cancelClass&&(this.cancelClass=t.cancelClass),"object"==typeof t.dateLimit&&(this.dateLimit=t.dateLimit),"object"==typeof t.locale){if("object"==typeof t.locale.daysOfWeek&&(this.locale.daysOfWeek=t.locale.daysOfWeek.slice()),"object"==typeof t.locale.monthNames&&(this.locale.monthNames=t.locale.monthNames.slice()),"number"==typeof t.locale.firstDay){this.locale.firstDay=t.locale.firstDay;for(var n=t.locale.firstDay;0<n;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),n--}"string"==typeof t.locale.applyLabel&&(this.locale.applyLabel=t.locale.applyLabel),"string"==typeof t.locale.cancelLabel&&(this.locale.cancelLabel=t.locale.cancelLabel),"string"==typeof t.locale.fromLabel&&(this.locale.fromLabel=t.locale.fromLabel),"string"==typeof t.locale.toLabel&&(this.locale.toLabel=t.locale.toLabel),"string"==typeof t.locale.weekLabel&&(this.locale.weekLabel=t.locale.weekLabel),"string"==typeof t.locale.customRangeLabel&&(this.locale.customRangeLabel=t.locale.customRangeLabel)}var a,i,s;if("string"==typeof t.opens&&(this.opens=t.opens),"boolean"==typeof t.showWeekNumbers&&(this.showWeekNumbers=t.showWeekNumbers),"string"==typeof t.buttonClasses&&(this.buttonClasses=[t.buttonClasses]),"object"==typeof t.buttonClasses&&(this.buttonClasses=t.buttonClasses),"boolean"==typeof t.showDropdowns&&(this.showDropdowns=t.showDropdowns),"boolean"==typeof t.singleDatePicker&&(this.singleDatePicker=t.singleDatePicker),"boolean"==typeof t.timePicker&&(this.timePicker=t.timePicker),"number"==typeof t.timePickerIncrement&&(this.timePickerIncrement=t.timePickerIncrement),"boolean"==typeof t.timePicker12Hour&&(this.timePicker12Hour=t.timePicker12Hour),void 0===t.startDate&&void 0===t.endDate&&p(this.element).is("input[type=text]")){var r=p(this.element).val(),o=r.split(this.separator);a=i=null,2==o.length?(a=g(o[0],this.format),i=g(o[1],this.format)):this.singleDatePicker&&(a=g(r,this.format),i=g(r,this.format)),null!==a&&null!==i&&(this.startDate=a,this.endDate=i)}if("object"==typeof t.ranges){for(s in t.ranges)a=g(t.ranges[s][0]),i=g(t.ranges[s][1]),this.minDate&&a.isBefore(this.minDate)&&(a=g(this.minDate)),this.maxDate&&i.isAfter(this.maxDate)&&(i=g(this.maxDate)),this.minDate&&i.isBefore(this.minDate)||this.maxDate&&a.isAfter(this.maxDate)||(this.ranges[s]=[a,i]);var l="<ul>";for(s in this.ranges)l+="<li>"+s+"</li>";l+="<li>"+this.locale.customRangeLabel+"</li>",l+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(l)}if("function"==typeof e&&(this.cb=e),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:g([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute()]),calendar:[]},this.rightCalendar={month:g([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute()]),calendar:[]},"right"==this.opens){var h=this.container.find(".calendar.left"),c=this.container.find(".calendar.right");h.removeClass("left").addClass("right"),c.removeClass("right").addClass("left")}void 0!==t.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.updateView(),this.updateCalendars()},setStartDate:function(t){"string"==typeof t&&(this.startDate=g(t,this.format)),"object"==typeof t&&(this.startDate=g(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars()},setEndDate:function(t){"string"==typeof t&&(this.endDate=g(t,this.format)),"object"==typeof t&&(this.endDate=g(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.separator),e=null,n=null;2===t.length&&(e=g(t[0],this.format),n=g(t[1],this.format)),!this.singleDatePicker&&null!==e&&null!==n||(n=e=g(this.element.val(),this.format)),n.isBefore(e)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=e,this.endDate=n,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var t={top:0,left:0};this.parentEl.is("body")||(t={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()}),"left"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,right:p(window).width()-this.element.offset().left-this.element.outerWidth()-t.left,left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-t.top,left:this.element.offset().left-t.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>p(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(t){this.element.hasClass("active")?this.hide():this.show()},show:function(t){this.element.addClass("active"),this.container.show(),this.move(),p(document).on("click.daterangepicker",p.proxy(this.outsideClick,this)),p(document).on("click.daterangepicker","[data-toggle=dropdown]",p.proxy(this.outsideClick,this)),this.element.trigger("show.daterangepicker",this)},outsideClick:function(t){var e=p(t.target);e.closest(this.element).length||e.closest(this.container).length||e.closest(".calendar-date").length||this.hide()},hide:function(t){p(document).off("click.daterangepicker",this.outsideClick),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.element.trigger("hide.daterangepicker",this)},enterRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move()},hideCalendars:function(){this.container.removeClass("show-calendar")},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)):this.element.is("input")&&this.element.val(this.startDate.format(this.format))},clickRange:function(t){var e=t.target.innerHTML;if((this.chosenLabel=e)==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(t){p(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.subtract("month",1):this.rightCalendar.month.subtract("month",1),this.updateCalendars()},clickNext:function(t){p(t.target).parents(".calendar").hasClass("left")?this.leftCalendar.month.add("month",1):this.rightCalendar.month.add("month",1),this.updateCalendars()},enterDate:function(t){var e=p(t.target).attr("data-title"),n=e.substr(1,1),a=e.substr(3,1);p(t.target).parents(".calendar").hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[n][a].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[n][a].format(this.format))},clickDate:function(t){var e,n,a=p(t.target).attr("data-title"),i=a.substr(1,1),s=a.substr(3,1),r=p(t.target).parents(".calendar");if(r.hasClass("left")){if(e=this.leftCalendar.calendar[i][s],n=this.endDate,"object"==typeof this.dateLimit){var o=g(e).add(this.dateLimit).startOf("day");n.isAfter(o)&&(n=o)}}else if(e=this.startDate,n=this.rightCalendar.calendar[i][s],"object"==typeof this.dateLimit){var l=g(n).subtract(this.dateLimit).startOf("day");e.isBefore(l)&&(e=l)}if(this.singleDatePicker&&r.hasClass("left")?n=e.clone():this.singleDatePicker&&r.hasClass("right")&&(e=n.clone()),r.find("td").removeClass("active"),e.isSame(n)||e.isBefore(n))p(t.target).addClass("active"),this.startDate=e,this.endDate=n,this.chosenLabel=this.locale.customRangeLabel;else if(e.isAfter(n)){p(t.target).addClass("active");var h=this.endDate.diff(this.startDate);this.startDate=e,this.endDate=g(e).add("ms",h),this.chosenLabel=this.locale.customRangeLabel}this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.updateCalendars(),this.timePicker||n.endOf("day"),this.singleDatePicker&&this.clickApply()},clickApply:function(t){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(t){var e=p(t.target).closest(".calendar").hasClass("left")?"left":"right",n=this.container.find(".calendar."+e),a=parseInt(n.find(".monthselect").val(),10),i=n.find(".yearselect").val();this[e+"Calendar"].month.month(a).year(i),this.updateCalendars()},updateTime:function(t){var e=p(t.target).closest(".calendar").hasClass("left"),n=e?"left":"right",a=this.container.find(".calendar."+n),i=parseInt(a.find(".hourselect").val(),10),s=parseInt(a.find(".minuteselect").val(),10);if(this.timePicker12Hour){var r=a.find(".ampmselect").val();"PM"===r&&i<12&&(i+=12),"AM"===r&&12===i&&(i=0)}if(e){var o=this.startDate.clone();o.hour(i),o.minute(s),this.startDate=o,this.leftCalendar.month.hour(i).minute(s)}else{var l=this.endDate.clone();l.hour(i),l.minute(s),this.endDate=l,this.rightCalendar.month.hour(i).minute(s)}this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate)),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate)),this.container.find(".ranges li").removeClass("active");var t=!0,e=0;for(var n in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()),e++;t&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html())},buildCalendar:function(t,e,n,a,i){var s,r=g([e,t,1]),o=g(r).subtract("month",1).month(),l=g(r).subtract("month",1).year(),h=g([l,o]).daysInMonth(),c=r.day(),u=[];for(s=0;s<6;s++)u[s]=[];var d=h-c+this.locale.firstDay+1;h<d&&(d-=7),c==this.locale.firstDay&&(d=h-6);var f,m,p=g([l,o,d,12,a]);for(m=f=s=0;s<42;s++,f++,p=g(p).add("hour",24))0<s&&f%7==0&&(f=0,m++),u[m][f]=p.clone().hour(n),p.hour(12);return u},renderDropdowns:function(t,e,n){for(var a=t.month(),i='<select class="monthselect">',s=0;s<12;s++)i+="<option value='"+s+"'"+(s===a?" selected='selected'":"")+">"+this.locale.monthNames[s]+"</option>";i+="</select>";for(var r=t.year(),o=n&&n.year()||r+5,l='<select class="yearselect">',h=e&&e.year()||r-50;h<=o;h++)l+='<option value="'+h+'"'+(h===r?' selected="selected"':"")+">"+h+"</option>";return i+(l+="</select>")},renderCalendar:function(t,e,n,a){var i='<div class="calendar-date">';i+='<table class="table-condensed">',i+="<thead>",i+="<tr>",this.showWeekNumbers&&(i+="<th></th>"),!n||n.isBefore(t[1][1])?i+='<th class="prev available"><i class="fa fa-arrow-left icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':i+="<th></th>";var s,r=this.locale.monthNames[t[1][1].month()]+t[1][1].format(" YYYY");this.showDropdowns&&(r=this.renderDropdowns(t[1][1],n,a)),i+='<th colspan="5" class="month">'+r+"</th>",!a||a.isAfter(t[1][1])?i+='<th class="next available"><i class="fa fa-arrow-right icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':i+="<th></th>",i+="</tr>",i+="<tr>",this.showWeekNumbers&&(i+='<th class="week">'+this.locale.weekLabel+"</th>"),p.each(this.locale.daysOfWeek,function(t,e){i+="<th>"+e+"</th>"}),i+="</tr>",i+="</thead>",i+="<tbody>";for(var o=0;o<6;o++){i+="<tr>",this.showWeekNumbers&&(i+='<td class="week">'+t[o][0].week()+"</td>");for(var l=0;l<7;l++){var h="available ";h+=t[o][l].month()==t[1][1].month()?"":"off",n&&t[o][l].isBefore(n)||a&&t[o][l].isAfter(a)?h=" off disabled ":t[o][l].format("YYYY-MM-DD")==e.format("YYYY-MM-DD")?(h+=" active ",t[o][l].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(h+=" start-date "),t[o][l].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(h+=" end-date ")):t[o][l]>=this.startDate&&t[o][l]<=this.endDate&&(h+=" in-range ",t[o][l].isSame(this.startDate)&&(h+=" start-date "),t[o][l].isSame(this.endDate)&&(h+=" end-date "));var c="r"+o+"c"+l;i+='<td class="'+h.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+c+'">'+t[o][l].date()+"</td>"}i+="</tr>"}if(i+="</tbody>",i+="</table>",i+="</div>",this.timePicker){i+='<div class="calendar-time">',i+='<select class="hourselect">';var u=0,d=23,f=e.hour();for(this.timePicker12Hour&&(u=1,(d=12)<=f&&(f-=12),0===f&&(f=12)),s=u;s<=d;s++)i+=s==f?'<option value="'+s+'" selected="selected">'+s+"</option>":'<option value="'+s+'">'+s+"</option>";for(i+="</select> : ",i+='<select class="minuteselect">',s=0;s<60;s+=this.timePickerIncrement){var m=s;m<10&&(m="0"+m),s==e.minute()?i+='<option value="'+s+'" selected="selected">'+m+"</option>":i+='<option value="'+s+'">'+m+"</option>"}i+="</select> ",this.timePicker12Hour&&(i+='<select class="ampmselect">',12<=e.hour()?i+='<option value="AM">AM</option><option value="PM" selected="selected">PM</option>':i+='<option value="AM" selected="selected">AM</option><option value="PM">PM</option>',i+="</select>"),i+="</div>"}return i},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},p.fn.daterangepicker=function(e,n){return this.each(function(){var t=p(this);t.data("daterangepicker")&&t.data("daterangepicker").remove(),t.data("daterangepicker",new a(t,e,n))}),this}}(window.jQuery,window.moment),angular.module("angularjssearchbox",["angularjssearchbox.typeahead","ngDateRange"]).directive("sbFocus",["$timeout",function(n){return function(t,e){n(function(){t.useKeywordFacet||e[0].value||e[0].focus()})}}]).directive("repeatDone",function(){return function(t,e,n){t.bindValueInput(e)}}).directive("searchBox",["$timeout",function(o){return{restrict:"A",templateUrl:"templates/searchBox.html",scope:{resultList:"=",facetList:"=",debug:"=?",dateOptions:"=?",placeholder:"@?"},link:function(r,t,e){function s(t,e){for(var n in r.facetList)if(r.facetList[n].name===t&&null!=r.facetList[n].values)for(var a in r.facetList[n].values)if(a===e)return r.facetList[n].values[a];return e}function i(t){for(var e in r.facetList)if(r.facetList[e].name===t)return r.facetList[e].type;return"string"}function n(t){var e=[];for(var n in t){var a=new Object;a.key=t[n].key,a.type=i(a.key),a.value=s(a.key,t[n].value),e.push(a)}return e}r.tmpInputValue=null,r.selectedResult=null,r.debug=r.debug||!1,r.placeholder=r.placeholder||"Filtrer les donn√©es",r.useKeywordFacet=!1,r.hasKeywordFacet=!1,r.initDone=!1,r.values={},r.showPlaceHolder=!0,r.toDay=moment().format("DD/MM/YYYY"),r.dateOptions=r.dateOptions||{minDate:"01/01/2004",maxDate:moment().add("years",2),showDropdowns:!0,showWeekNumbers:!1,timePicker:!1,timePickerIncrement:1,timePicker12Hour:!1,ranges:{"Aujourd'hui":[moment(),moment()],"Semestre en cours":moment().get("month")<6?[moment().startOf("year"),moment().startOf("year").add("months",6).subtract("days",1)]:[moment().startOf("year").add("months",6),moment().endOf("year")],"Prochain Semestre":moment().get("month")<6?[moment().startOf("year").add("months",6),moment().endOf("year")]:[moment().startOf("year").add("years",1),moment().endOf("year").add("months",6)],"Mois dernier":[moment().subtract("month",1).startOf("month"),moment().subtract("month",1).endOf("month")],"3 prochains mois":[moment().startOf("month"),moment().add("month",3).endOf("month")]},opens:"right",buttonClasses:["btn btn-default"],applyClass:"btn-small btn-primary",cancelClass:"btn-small",format:"DD/MM/YYYY",separator:" - ",singleDatePicker:!1,locale:{applyLabel:"Valider",cancelLabel:"Annuler",fromLabel:"Du",toLabel:"Au",customRangeLabel:"Calendrier",daysOfWeek:["Di","Lu","Ma","Me","Je","Ve","Sa"],monthNames:["Janvier","F&eacute;vrier","Mars","Avril","Mai","Juin","Juillet","Ao&ucirc;t","Septembre","Octobre","Novembre","D&eacute;cembre"],firstDay:1}},r.dateOptionsDate=angular.copy(r.dateOptions),r.dateOptionsDate.singleDatePicker=!0,r.dateOptionsRange=angular.copy(r.dateOptions),r.changeEventDateRange=function(t,e,n){var a=this.element.context.value,i=this.element[0].attributes["data-tah-index"].value;r.sbResultList[i].value=a,void 0!==s&&o.cancel(s);var s=o(function(){if(r.hasKeywordFacet&&"text"!=r.sbResultList[r.sbResultList.length-1].key){var t=r.sbResultList.pop();r.sbResultList.splice(r.sbResultList.length-1,0,t),i+=-1}var e=new Object;e.key=r.sbResultList[i].key,e.type=r.sbResultList[i].type,e.value=a,r.resultList[i]=e,r.selectInputFacet(),r.selectedResult=null},500)},r.$watch("facetList",function(t){r.sbFacetList=function(t){for(var e in t)for(var n in t[e].items)t[e].items[n].hasOwnProperty("label")||(t[e].items[n].label=t[e].items[n].name);return t}(t),r.initDone=!1,r.sbResultList=n(r.resultList),r.hasOwnProperty("selected")||(r.selected={key:"",value:""})}),r.$watch("resultList",function(t){r.initDone=!1,r.sbResultList=n(t)});var a=[9,13,37,38,39,40];t.find("input").bind("keydown",function(t){-1!==a.indexOf(t.which)&&(t.preventDefault(),13===t.which?(r.useKeywordFacet=!0,o(function(){r.useKeywordFacet&&(r.selected.value="",r.initDone=!0,r.hasKeywordFacet?(r.sbResultList[r.sbResultList.length-1].value+=" "+r.selected.key,r.resultList[r.resultList.length-1].value+=" "+r.selected.key):(r.hasKeywordFacet=!0,r.sbResultList.push({key:"text",type:"string",value:r.selected.key}),r.resultList.push({key:"text",type:"string",value:r.selected.key})),r.selected.key="",o(function(){r.selectInputFacet(),r.selectedResult=null}))})):9===t.which&&r.$apply(function(){}))}),t.find(".input-facet").bind("click",function(t){angular.element("input",t.target).focus()}),t.find("input").bind("focus",function(t){r.$apply(function(){r.showPlaceHolder=!1})}).bind("blur",function(t){r.$apply(function(){r.showPlaceHolder=!0})}),r.bindValueInput=function(t){o(function(){t.find("input").bind("keydown",function(e){-1!==a.indexOf(e.which)?(e.preventDefault(),13!==e.which&&9!==e.which||(r.hasKeywordFacet&&r.$apply(function(){if("text"!=r.sbResultList[r.sbResultList.length-1].key){var t=r.sbResultList.pop();r.sbResultList.splice(r.sbResultList.length-1,0,t)}}),r.$apply(function(){var t=new Object;t.key=r.sbResultList[e.target.dataset.tahIndex].key,t.type=r.sbResultList[e.target.dataset.tahIndex].type,t.value=r.sbResultList[e.target.dataset.tahIndex].value,r.resultList[e.target.dataset.tahIndex]=t,o(function(){r.selectInputFacet()}),r.selectedResult=null}))):r.initDone=!0})},50)},r.selectInputFacet=function(){t.find("input")[t.find("input").length-1].focus()},r.getFacetLabel=function(t){for(var e in r.sbFacetList)if(r.sbFacetList[e].name==t)return r.sbFacetList[e].label;return"text"===t?"Mot(s) cl√©(s)":t},r.getValueName=function(t,e,n){return r.values[t][e].name||n},r.getValues=function(e,t){var n=function(t){for(var e in r.facetList)if(r.facetList[e].name===t)return r.facetList[e];return null}(e);if(n)return"function"==typeof n.items?r.initDone?(r.initDone=!1,n.items(t,e).then(function(t){return r.values[e]=t})):[]:(r.values[e]=n.items,n.items)},r.$on("$typeahead.select",function(t,n,a,i){r.$apply(function(){r.useKeywordFacet=!1,-1==i?(r.selected.value="",r.sbResultList.push({key:n.name,type:n.type,value:""}),r.selected.key="",r.initDone=!0):o(function(){if(r.hasKeywordFacet&&"text"!=r.sbResultList[r.sbResultList.length-1].key){var t=r.sbResultList.pop();r.sbResultList.splice(r.sbResultList.length-1,0,t),i+=-1}var e=new Object;e.key=r.sbResultList[i].key,e.type=r.sbResultList[i].type,e.value=s(e,r.getValueName(e.key,a,n)),r.resultList[i]=e,r.selectInputFacet(),r.selectedResult=null},100)})}),r.selectResult=function(t,e){r.selectedResult=t,angular.element(e.currentTarget).find("input")[0].focus()},r.removeFilter=function(t){"text"===r.sbResultList[t].key&&(r.hasKeywordFacet=!1),r.sbResultList.splice(t,1),r.resultList=r.sbResultList.slice(0)},r.removeAll=function(){r.hasKeywordFacet=!1,r.sbResultList.length=0,r.resultList.length=0}}}}]),angular.module("ngDateRange",[]).directive("dateRange",["$timeout",function(a){return{restrict:"AE",scope:{dateRangeChange:"=",dateRangeOptions:"=",tahIndex:"@?",dateRangeTbutton:"=?"},template:'<span class="SB-addon" ng-if="dateRangeTbutton" ng-click="toggleSingleDate()"><i class="glyphicon glyphicon-calendar fa fa-calendar" ></i>&nbsp;<i class="glyphicon glyphicon-calendar fa fa-calendar" ng-hide="hideRange"></i></span>',link:function(e,n,t){e.dateRangeTbutton=e.dateRangeTbutton||!1,e.tahIndex=e.tahIndex||0,e.dateRangeTbutton&&(-1<t.value.indexOf("-")?e.dateRangeOptions.singleDatePicker=!1:e.dateRangeOptions.singleDatePicker=!0),e.hideRange=e.dateRangeOptions.singleDatePicker,e.hideRange&&(e.dateRangeOptions.startDate=t.value,e.dateRangeOptions.endDate=t.value),n.daterangepicker(e.dateRangeOptions,e.dateRangeChange),a(function(){n.parent().append(n.children().detach())}),e.hideRange&&n.data("daterangepicker").container.find(".calendar.left").after(n.data("daterangepicker").container.find(".calendar.right").detach()),e.$watch("dateRangeOptions",function(t){n.data("daterangepicker").setOptions(t,e.dateRangeChange),e.hideRange=t.singleDatePicker,e.hideRange||n.data("daterangepicker").container.find(".calendar.right").hasClass("single")&&(n.data("daterangepicker").container.find(".calendar.left").show(),n.data("daterangepicker").container.find(".calendar.right").removeClass("single"))}),e.$watch("dateRangeChange",function(t){n.data("daterangepicker").setOptions(e.dateRangeOptions,t),e.hideRange=e.dateRangeOptions.singleDatePicker}),e.toggleSingleDate=function(){n.val()&&e.dateRangeOptions.singleDatePicker&&-1==n.val().indexOf("-")&&(n.val(n.val()+" - "+n.val()),e.dateRangeOptions.startDate=n.val(),e.dateRangeOptions.endDate=n.val()),n.val()&&!e.dateRangeOptions.singleDatePicker&&-1!=n.val().indexOf("-")&&(n.val(n.val().slice(0,n.val().indexOf("-")-1)),e.dateRangeOptions.startDate=n.val(),e.dateRangeOptions.endDate=n.val()),e.dateRangeOptions.singleDatePicker=!e.dateRangeOptions.singleDatePicker,e.dateRangeOptions=angular.copy(e.dateRangeOptions),a(function(){n.data("daterangepicker").notify(),a(function(){n.focus()})})}}}}]),angular.module("angularjssearchbox.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$sbtooltip",function(){var _=this.defaults={animation:"am-fade",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,placement:"top",template:"templates/tooltip.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","dimensions","$$rAF",function(t,u,d,n,a,i,f,e,m,p){var g=String.prototype.trim,y="createTouch"in t.document,v=/ng-bind="/gi;function D(t,e){return angular.element((e||document).querySelectorAll(t))}function b(e){return n.when(a.get(e)||i.get(e)).then(function(t){return angular.isObject(t)?(a.put(e,t.data),t.data):t})}return function(i,t){var a={},s=i[0].nodeName.toLowerCase(),r=a.$options=angular.extend({},_,t);a.$promise=b(r.template);var e,n,o,l,h,c=a.$scope=r.scope&&r.scope.$new()||u.$new();return r.delay&&angular.isString(r.delay)&&(r.delay=parseFloat(r.delay)),r.title&&(a.$scope.title=r.title),c.$hide=function(){c.$$postDigest(function(){a.hide()})},c.$show=function(){c.$$postDigest(function(){a.show()})},c.$toggle=function(){c.$$postDigest(function(){a.toggle()})},a.$isShown=c.$isShown=!1,r.contentTemplate&&(a.$promise=a.$promise.then(function(t){var n=angular.element(t);return b(r.contentTemplate).then(function(t){var e=D('[ng-bind="content"]',n[0]);return e.length||(e=D('[ng-bind="title"]',n[0])),e.removeAttr("ng-bind").html(t),n[0].outerHTML})})),a.$promise.then(function(t){angular.isObject(t)&&(t=t.data),r.html&&(t=t.replace(v,'ng-bind-html="')),t=g.apply(t),o=d(t),a.init()}),a.init=function(){r.delay&&angular.isNumber(r.delay)&&(r.delay={show:r.delay,hide:r.delay}),"self"===r.container?h=i:r.container&&(h=D(r.container));var t=r.trigger.split(" ");angular.forEach(t,function(t){"click"===t?i.on("click",a.toggle):"manual"!==t&&(i.on("hover"===t?"mouseenter":"focus",a.enter),i.on("hover"===t?"mouseleave":"blur",a.leave),"button"===s&&"hover"!==t&&i.on(y?"touchstart":"mousedown",a.$onFocusElementMouseDown))}),r.show&&c.$$postDigest(function(){"focus"===r.trigger?i[0].focus():a.show()})},a.destroy=function(){for(var t=r.trigger.split(" "),e=t.length;e--;){var n=t[e];"click"===n?i.off("click",a.toggle):"manual"!==n&&(i.off("hover"===n?"mouseenter":"focus",a.enter),i.off("hover"===n?"mouseleave":"blur",a.leave),"button"===s&&"hover"!==n&&i.off(y?"touchstart":"mousedown",a.$onFocusElementMouseDown))}l&&(l.remove(),l=null),c.$destroy()},a.enter=function(){if(clearTimeout(e),n="in",!r.delay||!r.delay.show)return a.show();e=setTimeout(function(){"in"===n&&a.show()},r.delay.show)},a.show=function(){c.$emit(r.prefixEvent+".show.before",a);var t=r.container?h:null,e=r.container?null:i;l&&l.remove(),(l=a.$element=o(c,function(t,e){})).css({top:"0px",left:"0px",display:"block"}).addClass(r.placement),r.animation&&l.addClass(r.animation),r.type&&l.addClass(r.prefixClass+"-"+r.type),f.enter(l,t,e,function(){c.$emit(r.prefixEvent+".show",a)}),a.$isShown=c.$isShown=!0,c.$$phase||c.$root.$$phase||c.$digest(),p(a.$applyPlacement),r.keyboard&&("focus"!==r.trigger?(a.focus(),l.on("keyup",a.$onKeyUp)):i.on("keyup",a.$onFocusKeyUp))},a.leave=function(){if(clearTimeout(e),n="out",!r.delay||!r.delay.hide)return a.hide();e=setTimeout(function(){"out"===n&&a.hide()},r.delay.hide)},a.hide=function(t){if(a.$isShown)return c.$emit(r.prefixEvent+".hide.before",a),f.leave(l,function(){c.$emit(r.prefixEvent+".hide",a)}),a.$isShown=c.$isShown=!1,c.$$phase||c.$root.$$phase||c.$digest(),r.keyboard&&null!==l&&l.off("keyup",a.$onKeyUp),t&&"focus"===r.trigger?i[0].blur():void 0},a.toggle=function(){a.$isShown?a.leave():a.enter()},a.focus=function(){l[0].focus()},a.$applyPlacement=function(){if(l){var t="body"===r.container?m.offset(i[0]):m.position(i[0]),e=l.prop("offsetWidth"),n=l.prop("offsetHeight"),a=function(t,e,n,a){var i,s=t.split("-");switch(s[0]){case"right":i={top:e.top+e.height/2-a/2,left:e.left+e.width};break;case"bottom":i={top:e.top+e.height,left:e.left+e.width/2-n/2};break;case"left":i={top:e.top+e.height/2-a/2,left:e.left-n};break;default:i={top:e.top-a,left:e.left+e.width/2-n/2}}if(!s[1])return i;if("top"===s[0]||"bottom"===s[0])switch(s[1]){case"left":i.left=e.left;break;case"right":i.left=e.left+e.width-n}else if("left"===s[0]||"right"===s[0])switch(s[1]){case"top":i.top=e.top-a;break;case"bottom":i.top=e.top+e.height}return i}(r.placement,t,e,n);a.top+="px",a.left+="px",l.css(a)}},a.$onKeyUp=function(t){27===t.which&&a.hide()},a.$onFocusKeyUp=function(t){27===t.which&&i[0].blur()},a.$onFocusElementMouseDown=function(t){t.preventDefault(),t.stopPropagation(),a.$isShown?i[0].blur():i[0].focus()},a}}]}).directive("bsTooltip",["$window","$location","$sce","$sbtooltip","$$rAF",function(t,e,r,o,l){return{restrict:"EAC",scope:!0,link:function(a,t,e,n){var i={scope:a};angular.forEach(["template","contentTemplate","placement","container","delay","trigger","keyboard","html","animation","type"],function(t){angular.isDefined(e[t])&&(i[t]=e[t])}),angular.forEach(["title"],function(n){e[n]&&e.$observe(n,function(t,e){a[n]=r.trustAsHtml(t),angular.isDefined(e)&&l(function(){s&&s.$applyPlacement()})})}),e.bsTooltip&&a.$watch(e.bsTooltip,function(t,e){angular.isObject(t)?angular.extend(a,t):a.title=t,angular.isDefined(e)&&l(function(){s&&s.$applyPlacement()})},!0);var s=o(t,i);a.$on("$destroy",function(){s.destroy(),s=i=null})}}}]),angular.module("angularjssearchbox.typeahead",["angularjssearchbox.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var c=this.defaults={animation:"am-fade",prefixClass:"typeahead",placement:"bottom-left",template:"templates/typeAhead.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,tahIndex:-1,filter:"filter",limit:6};this.$get=function(t,e,h){angular.element(t.document.body);function n(t,n,e){var a={},i=angular.extend({},c,e);a=h(t,i);var s=e.scope,r=a.$scope;r.$resetMatches=function(){r.$matches=[],r.$activeIndex=0},r.$resetMatches(),r.$activate=function(t){r.$$postDigest(function(){a.activate(t)})},r.$select=function(t,e){r.$$postDigest(function(){a.select(t)})},r.$isVisible=function(){return a.$isVisible()},a.update=function(t){r.$matches=t,r.$activeIndex>=t.length&&(r.$activeIndex=0)},a.activate=function(t){r.$activeIndex=t},a.select=function(t){var e=r.$matches[t].value;n.$setViewValue(e),r.$resetMatches(),n.$render(),s&&s.$digest(),r.$emit("$typeahead.select",e,t,i.tahIndex)},a.$isVisible=function(){return i.minLength&&n?r.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=i.minLength:!!r.$matches.length},a.$getIndex=function(t){var e=r.$matches.length,n=e;if(e){for(n=e;n--&&r.$matches[n].value!==t;);if(!(n<0))return n}},a.$onMouseDown=function(t){t.preventDefault(),t.stopPropagation()},a.$onKeyDown=function(t){/(38|40|13)/.test(t.keyCode)&&(t.preventDefault(),t.stopPropagation(),13===t.keyCode&&r.$matches.length?a.select(r.$activeIndex):38===t.keyCode&&0<r.$activeIndex?r.$activeIndex--:40===t.keyCode&&r.$activeIndex<r.$matches.length-1?r.$activeIndex++:angular.isUndefined(r.$activeIndex)&&(r.$activeIndex=0),r.$digest())};var o=a.show;a.show=function(){o(),setTimeout(function(){a.$element.on("mousedown",a.$onMouseDown),i.keyboard&&t.on("keydown",a.$onKeyDown)})};var l=a.hide;return a.hide=function(){a.$element.off("mousedown",a.$onMouseDown),i.keyboard&&t.off("keydown",a.$onKeyDown),l()},a}return n.defaults=c,n}}).directive("sbTypeahead",function(t,e,n,c,u){var d=c.defaults;return{restrict:"EAC",require:"ngModel",link:function(n,a,e,i){var s={scope:n};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","tahIndex","minLength"],function(t){angular.isDefined(e[t])&&(s[t]=e[t])});var t=s.filter||d.filter,r=s.limit||d.limit,o=e.ngOptions;t&&(o+=" | "+t+":$viewValue"),r&&(o+=" | limitTo:"+r);u(o);function l(){u(o).valuesFn(n,i).then(function(t){t.length>r&&(t=t.slice(0,r)),1===t.length&&t[0].value===n.$modelValue||(h.update(t),i.$render())})}var h=c(a,i,s);e.ngOptionsWatch&&n.$watch(e.ngOptionsWatch,l),n.$watch(e.ngModel,function(t,e){n.$modelValue=t,l()}),i.$render=function(){if(i.$isEmpty(i.$viewValue))return a.val("");var t=h.$getIndex(i.$modelValue),e=angular.isDefined(t)?h.$scope.$matches[t].label:i.$viewValue;e=angular.isObject(e)?e.label:e,a.val(e.replace(/<(?:.|\n)*?>/gm,"").trim())},n.$on("$destroy",function(){h.destroy(),h=s=null})}}});