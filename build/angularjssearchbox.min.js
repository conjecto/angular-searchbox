(function(t){function e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function n(t,e){return function(n){return c(t.call(this,n),e)}}function a(t,e){return function(n){return this.lang().ordinal(t.call(this,n),e)}}function i(){}function s(t){k(t),o(this,t)}function r(t){var e=g(t),n=e.year||0,a=e.month||0,i=e.week||0,s=e.day||0,r=e.hour||0,o=e.minute||0,l=e.second||0,h=e.millisecond||0;this._milliseconds=+h+1e3*l+6e4*o+36e5*r,this._days=+s+7*i,this._months=+a+12*n,this._data={},this._bubble()}function o(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return e.hasOwnProperty("toString")&&(t.toString=e.toString),e.hasOwnProperty("valueOf")&&(t.valueOf=e.valueOf),t}function l(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&gt.hasOwnProperty(e)&&(n[e]=t[e]);return n}function h(t){return 0>t?Math.ceil(t):Math.floor(t)}function c(t,e,n){for(var a=""+Math.abs(t),i=t>=0;a.length<e;)a="0"+a;return(i?n?"+":"":"-")+a}function u(t,e,n,a){var i,s,r=e._milliseconds,o=e._days,l=e._months;r&&t._d.setTime(+t._d+r*n),(o||l)&&(i=t.minute(),s=t.hour()),o&&t.date(t.date()+o*n),l&&t.month(t.month()+l*n),r&&!a&&at.updateOffset(t),(o||l)&&(t.minute(i),t.hour(s))}function d(t){return"[object Array]"===Object.prototype.toString.call(t)}function f(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function m(t,e,n){var a,i=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),r=0;for(a=0;i>a;a++)(n&&t[a]!==e[a]||!n&&v(t[a])!==v(e[a]))&&r++;return r+s}function p(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=Nt[t]||Vt[e]||e}return t}function g(t){var e,n,a={};for(n in t)t.hasOwnProperty(n)&&(e=p(n),e&&(a[e]=t[n]));return a}function y(e){var n,a;if(0===e.indexOf("week"))n=7,a="day";else{if(0!==e.indexOf("month"))return;n=12,a="month"}at[e]=function(i,s){var r,o,l=at.fn._lang[e],h=[];if("number"==typeof i&&(s=i,i=t),o=function(t){var e=at().utc().set(a,t);return l.call(at.fn._lang,e,i||"")},null!=s)return o(s);for(r=0;n>r;r++)h.push(o(r));return h}}function v(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function D(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function b(t){return _(t)?366:365}function _(t){return t%4===0&&t%100!==0||t%400===0}function k(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[ht]<0||t._a[ht]>11?ht:t._a[ct]<1||t._a[ct]>D(t._a[lt],t._a[ht])?ct:t._a[ut]<0||t._a[ut]>23?ut:t._a[dt]<0||t._a[dt]>59?dt:t._a[ft]<0||t._a[ft]>59?ft:t._a[mt]<0||t._a[mt]>999?mt:-1,t._pf._overflowDayOfYear&&(lt>e||e>ct)&&(e=ct),t._pf.overflow=e)}function w(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function Y(t){return t?t.toLowerCase().replace("_","-"):t}function M(t,e){return e._isUTC?at(t).zone(e._offset||0):at(t).local()}function C(t,e){return e.abbr=t,pt[t]||(pt[t]=new i),pt[t].set(e),pt[t]}function $(t){delete pt[t]}function L(t){var e,n,a,i,s=0,r=function(t){if(!pt[t]&&yt)try{require("./lang/"+t)}catch(e){}return pt[t]};if(!t)return at.fn._lang;if(!d(t)){if(n=r(t))return n;t=[t]}for(;s<t.length;){for(i=Y(t[s]).split("-"),e=i.length,a=Y(t[s+1]),a=a?a.split("-"):null;e>0;){if(n=r(i.slice(0,e).join("-")))return n;if(a&&a.length>=e&&m(i,a,!0)>=e-1)break;e--}s++}return at.fn._lang}function O(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function x(t){var e,n,a=t.match(_t);for(e=0,n=a.length;n>e;e++)Jt[a[e]]?a[e]=Jt[a[e]]:a[e]=O(a[e]);return function(i){var s="";for(e=0;n>e;e++)s+=a[e]instanceof Function?a[e].call(i,t):a[e];return s}}function S(t,e){return t.isValid()?(e=T(e,t.lang()),Bt[e]||(Bt[e]=x(e)),Bt[e](t)):t.lang().invalidDate()}function T(t,e){function n(t){return e.longDateFormat(t)||t}var a=5;for(kt.lastIndex=0;a>=0&&kt.test(t);)t=t.replace(kt,n),kt.lastIndex=0,a-=1;return t}function P(t,e){var n,a=e._strict;switch(t){case"DDDD":return Rt;case"YYYY":case"GGGG":case"gggg":return a?Ft:Mt;case"Y":case"G":case"g":return It;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return a?Wt:Ct;case"S":if(a)return Tt;case"SS":if(a)return Pt;case"SSS":if(a)return Rt;case"DDD":return Yt;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Lt;case"a":case"A":return L(e._l)._meridiemParse;case"X":return St;case"Z":case"ZZ":return Ot;case"T":return xt;case"SSSS":return $t;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return a?Pt:wt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return wt;default:return n=new RegExp(H(E(t.replace("\\","")),"i"))}}function R(t){t=t||"";var e=t.match(Ot)||[],n=e[e.length-1]||[],a=(n+"").match(Ut)||["-",0,0],i=+(60*a[1])+v(a[2]);return"+"===a[0]?-i:i}function F(t,e,n){var a,i=n._a;switch(t){case"M":case"MM":null!=e&&(i[ht]=v(e)-1);break;case"MMM":case"MMMM":a=L(n._l).monthsParse(e),null!=a?i[ht]=a:n._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(i[ct]=v(e));break;case"DDD":case"DDDD":null!=e&&(n._dayOfYear=v(e));break;case"YY":i[lt]=v(e)+(v(e)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":i[lt]=v(e);break;case"a":case"A":n._isPm=L(n._l).isPM(e);break;case"H":case"HH":case"h":case"hh":i[ut]=v(e);break;case"m":case"mm":i[dt]=v(e);break;case"s":case"ss":i[ft]=v(e);break;case"S":case"SS":case"SSS":case"SSSS":i[mt]=v(1e3*("0."+e));break;case"X":n._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=R(e);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":t=t.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(n._w=n._w||{},n._w[t]=e)}}function W(t){var e,n,a,i,s,r,o,l,h,c,u=[];if(!t._d){for(a=A(t),t._w&&null==t._a[ct]&&null==t._a[ht]&&(s=function(e){var n=parseInt(e,10);return e?e.length<3?n>68?1900+n:2e3+n:n:null==t._a[lt]?at().weekYear():t._a[lt]},r=t._w,null!=r.GG||null!=r.W||null!=r.E?o=q(s(r.GG),r.W||1,r.E,4,1):(l=L(t._l),h=null!=r.d?B(r.d,l):null!=r.e?parseInt(r.e,10)+l._week.dow:0,c=parseInt(r.w,10)||1,null!=r.d&&h<l._week.dow&&c++,o=q(s(r.gg),c,h,l._week.doy,l._week.dow)),t._a[lt]=o.year,t._dayOfYear=o.dayOfYear),t._dayOfYear&&(i=null==t._a[lt]?a[lt]:t._a[lt],t._dayOfYear>b(i)&&(t._pf._overflowDayOfYear=!0),n=V(i,0,t._dayOfYear),t._a[ht]=n.getUTCMonth(),t._a[ct]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=u[e]=a[e];for(;7>e;e++)t._a[e]=u[e]=null==t._a[e]?2===e?1:0:t._a[e];u[ut]+=v((t._tzm||0)/60),u[dt]+=v((t._tzm||0)%60),t._d=(t._useUTC?V:N).apply(null,u)}}function I(t){var e;t._d||(e=g(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],W(t))}function A(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function G(t){t._a=[],t._pf.empty=!0;var e,n,a,i,s,r=L(t._l),o=""+t._i,l=o.length,h=0;for(a=T(t._f,r).match(_t)||[],e=0;e<a.length;e++)i=a[e],n=(o.match(P(i,t))||[])[0],n&&(s=o.substr(0,o.indexOf(n)),s.length>0&&t._pf.unusedInput.push(s),o=o.slice(o.indexOf(n)+n.length),h+=n.length),Jt[i]?(n?t._pf.empty=!1:t._pf.unusedTokens.push(i),F(i,n,t)):t._strict&&!n&&t._pf.unusedTokens.push(i);t._pf.charsLeftOver=l-h,o.length>0&&t._pf.unusedInput.push(o),t._isPm&&t._a[ut]<12&&(t._a[ut]+=12),t._isPm===!1&&12===t._a[ut]&&(t._a[ut]=0),W(t),k(t)}function E(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,a,i){return e||n||a||i})}function H(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(t){var n,a,i,s,r;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)r=0,n=o({},t),n._pf=e(),n._f=t._f[s],G(n),w(n)&&(r+=n._pf.charsLeftOver,r+=10*n._pf.unusedTokens.length,n._pf.score=r,(null==i||i>r)&&(i=r,a=n));o(t,a||n)}function j(t){var e,n,a=t._i,i=At.exec(a);if(i){for(t._pf.iso=!0,e=0,n=Et.length;n>e;e++)if(Et[e][1].exec(a)){t._f=Et[e][0]+(i[6]||" ");break}for(e=0,n=Ht.length;n>e;e++)if(Ht[e][1].exec(a)){t._f+=Ht[e][0];break}a.match(Ot)&&(t._f+="Z"),G(t)}else t._d=new Date(a)}function z(e){var n=e._i,a=vt.exec(n);n===t?e._d=new Date:a?e._d=new Date(+a[1]):"string"==typeof n?j(e):d(n)?(e._a=n.slice(0),W(e)):f(n)?e._d=new Date(+n):"object"==typeof n?I(e):e._d=new Date(n)}function N(t,e,n,a,i,s,r){var o=new Date(t,e,n,a,i,s,r);return 1970>t&&o.setFullYear(t),o}function V(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function B(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Z(t,e,n,a,i){return i.relativeTime(e||1,!!n,t,a)}function K(t,e,n){var a=ot(Math.abs(t)/1e3),i=ot(a/60),s=ot(i/60),r=ot(s/24),o=ot(r/365),l=45>a&&["s",a]||1===i&&["m"]||45>i&&["mm",i]||1===s&&["h"]||22>s&&["hh",s]||1===r&&["d"]||25>=r&&["dd",r]||45>=r&&["M"]||345>r&&["MM",ot(r/30)]||1===o&&["y"]||["yy",o];return l[2]=e,l[3]=t>0,l[4]=n,Z.apply({},l)}function J(t,e,n){var a,i=n-e,s=n-t.day();return s>i&&(s-=7),i-7>s&&(s+=7),a=at(t).add("d",s),{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function q(t,e,n,a,i){var s,r,o=V(t,0,1).getUTCDay();return n=null!=n?n:i,s=i-o+(o>a?7:0)-(i>o?7:0),r=7*(e-1)+(n-i)+s+1,{year:r>0?t:t-1,dayOfYear:r>0?r:b(t-1)+r}}function X(t){var e=t._i,n=t._f;return null===e?at.invalid({nullInput:!0}):("string"==typeof e&&(t._i=e=L().preparse(e)),at.isMoment(e)?(t=l(e),t._d=new Date(+e._d)):n?d(n)?U(t):G(t):z(t),new s(t))}function Q(t,e){at.fn[t]=at.fn[t+"s"]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),at.updateOffset(this),this):this._d["get"+n+e]()}}function tt(t){at.duration.fn[t]=function(){return this._data[t]}}function et(t,e){at.duration.fn["as"+t]=function(){return+this/e}}function nt(t){var e=!1,n=at;"undefined"==typeof ender&&(t?(rt.moment=function(){return!e&&console&&console.warn&&(e=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),n.apply(null,arguments)},o(rt.moment,n)):rt.moment=at)}for(var at,it,st="2.5.1",rt=this,ot=Math.round,lt=0,ht=1,ct=2,ut=3,dt=4,ft=5,mt=6,pt={},gt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},yt="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,vt=/^\/?Date\((\-?\d+)/i,Dt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,bt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,_t=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,kt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,wt=/\d\d?/,Yt=/\d{1,3}/,Mt=/\d{1,4}/,Ct=/[+\-]?\d{1,6}/,$t=/\d+/,Lt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Ot=/Z|[\+\-]\d\d:?\d\d/gi,xt=/T/i,St=/[\+\-]?\d+(\.\d{1,3})?/,Tt=/\d/,Pt=/\d\d/,Rt=/\d{3}/,Ft=/\d{4}/,Wt=/[+-]?\d{6}/,It=/[+-]?\d+/,At=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Gt="YYYY-MM-DDTHH:mm:ssZ",Et=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Ht=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ut=/([\+\-]|\d\d)/gi,jt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),zt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},Nt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Vt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Bt={},Zt="DDD w W M D d".split(" "),Kt="M D H h m s w W".split(" "),Jt={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return c(this.year()%100,2)},YYYY:function(){return c(this.year(),4)},YYYYY:function(){return c(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+c(Math.abs(t),6)},gg:function(){return c(this.weekYear()%100,2)},gggg:function(){return c(this.weekYear(),4)},ggggg:function(){return c(this.weekYear(),5)},GG:function(){return c(this.isoWeekYear()%100,2)},GGGG:function(){return c(this.isoWeekYear(),4)},GGGGG:function(){return c(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return v(this.milliseconds()/100)},SS:function(){return c(v(this.milliseconds()/10),2)},SSS:function(){return c(this.milliseconds(),3)},SSSS:function(){return c(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+c(v(t/60),2)+":"+c(v(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+c(v(t/60),2)+c(v(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},qt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Zt.length;)it=Zt.pop(),Jt[it+"o"]=a(Jt[it],it);for(;Kt.length;)it=Kt.pop(),Jt[it+it]=n(Jt[it],2);for(Jt.DDDD=n(Jt.DDD,3),o(i.prototype,{set:function(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,n,a;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(n=at.utc([2e3,e]),a="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=new RegExp(a.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,n,a;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=at([2e3,1]).day(e),a="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(a.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var n=this._calendar[t];return"function"==typeof n?n.apply(e):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,n,a){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,a):i.replace(/%d/i,t)},pastFuture:function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return J(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),at=function(n,a,i,s){var r;return"boolean"==typeof i&&(s=i,i=t),r={},r._isAMomentObject=!0,r._i=n,r._f=a,r._l=i,r._strict=s,r._isUTC=!1,r._pf=e(),X(r)},at.utc=function(n,a,i,s){var r;return"boolean"==typeof i&&(s=i,i=t),r={},r._isAMomentObject=!0,r._useUTC=!0,r._isUTC=!0,r._l=i,r._i=n,r._f=a,r._strict=s,r._pf=e(),X(r).utc()},at.unix=function(t){return at(1e3*t)},at.duration=function(t,e){var n,a,i,s=t,o=null;return at.isDuration(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(s={},e?s[e]=t:s.milliseconds=t):(o=Dt.exec(t))?(n="-"===o[1]?-1:1,s={y:0,d:v(o[ct])*n,h:v(o[ut])*n,m:v(o[dt])*n,s:v(o[ft])*n,ms:v(o[mt])*n}):(o=bt.exec(t))&&(n="-"===o[1]?-1:1,i=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*n},s={y:i(o[2]),M:i(o[3]),d:i(o[4]),h:i(o[5]),m:i(o[6]),s:i(o[7]),w:i(o[8])}),a=new r(s),at.isDuration(t)&&t.hasOwnProperty("_lang")&&(a._lang=t._lang),a},at.version=st,at.defaultFormat=Gt,at.updateOffset=function(){},at.lang=function(t,e){var n;return t?(e?C(Y(t),e):null===e?($(t),t="en"):pt[t]||L(t),n=at.duration.fn._lang=at.fn._lang=L(t),n._abbr):at.fn._lang._abbr},at.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),L(t)},at.isMoment=function(t){return t instanceof s||null!=t&&t.hasOwnProperty("_isAMomentObject")},at.isDuration=function(t){return t instanceof r},it=qt.length-1;it>=0;--it)y(qt[it]);for(at.normalizeUnits=function(t){return p(t)},at.invalid=function(t){var e=at.utc(NaN);return null!=t?o(e._pf,t):e._pf.userInvalidated=!0,e},at.parseZone=function(t){return at(t).parseZone()},o(at.fn=s.prototype,{clone:function(){return at(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=at(this).utc();return 0<t.year()&&t.year()<=9999?S(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):S(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return w(this)},isDSTShifted:function(){return this._a?this.isValid()&&m(this._a,(this._isUTC?at.utc(this._a):at(this._a)).toArray())>0:!1},parsingFlags:function(){return o({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=S(this,t||at.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var n;return n="string"==typeof t?at.duration(+e,t):at.duration(t,e),u(this,n,1),this},subtract:function(t,e){var n;return n="string"==typeof t?at.duration(+e,t):at.duration(t,e),u(this,n,-1),this},diff:function(t,e,n){var a,i,s=M(t,this),r=6e4*(this.zone()-s.zone());return e=p(e),"year"===e||"month"===e?(a=432e5*(this.daysInMonth()+s.daysInMonth()),i=12*(this.year()-s.year())+(this.month()-s.month()),i+=(this-at(this).startOf("month")-(s-at(s).startOf("month")))/a,i-=6e4*(this.zone()-at(this).startOf("month").zone()-(s.zone()-at(s).startOf("month").zone()))/a,"year"===e&&(i/=12)):(a=this-s,i="second"===e?a/1e3:"minute"===e?a/6e4:"hour"===e?a/36e5:"day"===e?(a-r)/864e5:"week"===e?(a-r)/6048e5:a),n?i:h(i)},from:function(t,e){return at.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(at(),t)},calendar:function(){var t=M(at(),this).startOf("day"),e=this.diff(t,"days",!0),n=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(n,this))},isLeapYear:function(){return _(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=B(t,this.lang()),this.add({d:t-e})):e},month:function(t){var e,n=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+n+"Month"](t),this.date(Math.min(e,this.daysInMonth())),at.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(t){switch(t=p(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),this},endOf:function(t){return t=p(t),this.startOf(t).add("isoWeek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+at(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+at(t).startOf(e)},isSame:function(t,e){return e=e||"ms",+this.clone().startOf(e)===+M(t,this).startOf(e)},min:function(t){return t=at.apply(null,arguments),this>t?this:t},max:function(t){return t=at.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=R(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&u(this,at.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?at(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(t){var e=ot((at(this).startOf("day")-at(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(t){var e=J(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=J(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=J(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this.day()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},get:function(t){return t=p(t),this[t]()},set:function(t,e){return t=p(t),"function"==typeof this[t]&&this[t](e),this},lang:function(e){return e===t?this._lang:(this._lang=L(e),this)}}),it=0;it<jt.length;it++)Q(jt[it].toLowerCase().replace(/s$/,""),jt[it]);Q("year","FullYear"),at.fn.days=at.fn.day,at.fn.months=at.fn.month,at.fn.weeks=at.fn.week,at.fn.isoWeeks=at.fn.isoWeek,at.fn.toJSON=at.fn.toISOString,o(at.duration.fn=r.prototype,{_bubble:function(){var t,e,n,a,i=this._milliseconds,s=this._days,r=this._months,o=this._data;o.milliseconds=i%1e3,t=h(i/1e3),o.seconds=t%60,e=h(t/60),o.minutes=e%60,n=h(e/60),o.hours=n%24,s+=h(n/24),o.days=s%30,r+=h(s/30),o.months=r%12,a=h(r/12),o.years=a},weeks:function(){return h(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12)},humanize:function(t){var e=+this,n=K(e,!t,this.lang());return t&&(n=this.lang().pastFuture(e,n)),this.lang().postformat(n)},add:function(t,e){var n=at.duration(t,e);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(t,e){var n=at.duration(t,e);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(t){return t=p(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=p(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:at.fn.lang,toIsoString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),n=Math.abs(this.days()),a=Math.abs(this.hours()),i=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(a||i||s?"T":"")+(a?a+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}});for(it in zt)zt.hasOwnProperty(it)&&(et(it,zt[it]),tt(it.toLowerCase()));et("Weeks",6048e5),at.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},at.lang("en",{ordinal:function(t){var e=t%10,n=1===v(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),yt?(module.exports=at,nt(!0)):"function"==typeof define&&define.amd?define("moment",function(e,n,a){return a.config&&a.config()&&a.config().noGlobal!==!0&&nt(a.config().noGlobal===t),at}):nt()}).call(this),!function(t,e){var n=function(e,n,a){this.parentEl="body",this.element=t(e);var i='<div class="daterangepicker dropdown-menu"><div class="calendar left"></div><div class="calendar right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input"><label for="daterangepicker_start"></label><input class="input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" /></div><div class="daterangepicker_end_input"><label for="daterangepicker_end"></label><input class="input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" /></div><button class="applyBtn" disabled="disabled"></button>&nbsp;<button class="cancelBtn"></button></div></div></div>';("object"!=typeof n||null===n)&&(n={}),this.parentEl=t("object"==typeof n&&n.parentEl&&t(n.parentEl).length?n.parentEl:this.parentEl),this.container=t(i).appendTo(this.parentEl),this.setOptions(n,a);var s=this.container;t.each(this.buttonClasses,function(t,e){s.find("button").addClass(e)}),this.container.find(".daterangepicker_start_input label").html(this.locale.fromLabel),this.container.find(".daterangepicker_end_input label").html(this.locale.toLabel),this.applyClass.length&&this.container.find(".applyBtn").addClass(this.applyClass),this.cancelClass.length&&this.container.find(".cancelBtn").addClass(this.cancelClass),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("click.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.enterDate,this)).on("mouseleave.daterangepicker","td.available",t.proxy(this.updateFormInputs,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.updateMonthYear,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.ampmselect",t.proxy(this.updateTime,this)),this.container.find(".ranges").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this)).on("click.daterangepicker",".daterangepicker_start_input,.daterangepicker_end_input",t.proxy(this.showCalendars,this)).on("click.daterangepicker","li",t.proxy(this.clickRange,this)).on("mouseenter.daterangepicker","li",t.proxy(this.enterRange,this)).on("mouseleave.daterangepicker","li",t.proxy(this.updateFormInputs,this)),this.element.is("input")?this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.updateFromControl,this)}):this.element.on("click.daterangepicker",t.proxy(this.toggle,this))};n.prototype={constructor:n,setOptions:function(n,a){if(this.startDate=e().startOf("day"),this.endDate=e().endOf("day"),this.minDate=!1,this.maxDate=!1,this.dateLimit=!1,this.showDropdowns=!1,this.showWeekNumbers=!1,this.timePicker=!1,this.timePickerIncrement=30,this.timePicker12Hour=!0,this.singleDatePicker=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.buttonClasses=["btn","btn-small"],this.applyClass="btn-success",this.cancelClass="btn-default",this.format="MM/DD/YYYY",this.separator=" - ",this.locale={applyLabel:"Apply",cancelLabel:"Cancel",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:e()._lang._weekdaysMin.slice(),monthNames:e()._lang._monthsShort.slice(),firstDay:0},this.cb=function(){},"string"==typeof n.format&&(this.format=n.format),"string"==typeof n.separator&&(this.separator=n.separator),"string"==typeof n.startDate&&(this.startDate=e(n.startDate,this.format)),"string"==typeof n.endDate&&(this.endDate=e(n.endDate,this.format)),"string"==typeof n.minDate&&(this.minDate=e(n.minDate,this.format)),"string"==typeof n.maxDate&&(this.maxDate=e(n.maxDate,this.format)),"object"==typeof n.startDate&&(this.startDate=e(n.startDate)),"object"==typeof n.endDate&&(this.endDate=e(n.endDate)),"object"==typeof n.minDate&&(this.minDate=e(n.minDate)),"object"==typeof n.maxDate&&(this.maxDate=e(n.maxDate)),"string"==typeof n.applyClass&&(this.applyClass=n.applyClass),"string"==typeof n.cancelClass&&(this.cancelClass=n.cancelClass),"object"==typeof n.dateLimit&&(this.dateLimit=n.dateLimit),"object"==typeof n.locale){if("object"==typeof n.locale.daysOfWeek&&(this.locale.daysOfWeek=n.locale.daysOfWeek.slice()),"object"==typeof n.locale.monthNames&&(this.locale.monthNames=n.locale.monthNames.slice()),"number"==typeof n.locale.firstDay){this.locale.firstDay=n.locale.firstDay;for(var i=n.locale.firstDay;i>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),i--}"string"==typeof n.locale.applyLabel&&(this.locale.applyLabel=n.locale.applyLabel),"string"==typeof n.locale.cancelLabel&&(this.locale.cancelLabel=n.locale.cancelLabel),"string"==typeof n.locale.fromLabel&&(this.locale.fromLabel=n.locale.fromLabel),"string"==typeof n.locale.toLabel&&(this.locale.toLabel=n.locale.toLabel),"string"==typeof n.locale.weekLabel&&(this.locale.weekLabel=n.locale.weekLabel),"string"==typeof n.locale.customRangeLabel&&(this.locale.customRangeLabel=n.locale.customRangeLabel)}"string"==typeof n.opens&&(this.opens=n.opens),"boolean"==typeof n.showWeekNumbers&&(this.showWeekNumbers=n.showWeekNumbers),"string"==typeof n.buttonClasses&&(this.buttonClasses=[n.buttonClasses]),"object"==typeof n.buttonClasses&&(this.buttonClasses=n.buttonClasses),"boolean"==typeof n.showDropdowns&&(this.showDropdowns=n.showDropdowns),"boolean"==typeof n.singleDatePicker&&(this.singleDatePicker=n.singleDatePicker),"boolean"==typeof n.timePicker&&(this.timePicker=n.timePicker),"number"==typeof n.timePickerIncrement&&(this.timePickerIncrement=n.timePickerIncrement),"boolean"==typeof n.timePicker12Hour&&(this.timePicker12Hour=n.timePicker12Hour);var s,r,o;
if("undefined"==typeof n.startDate&&"undefined"==typeof n.endDate&&t(this.element).is("input[type=text]")){var l=t(this.element).val(),h=l.split(this.separator);s=r=null,2==h.length?(s=e(h[0],this.format),r=e(h[1],this.format)):this.singleDatePicker&&(s=e(l,this.format),r=e(l,this.format)),null!==s&&null!==r&&(this.startDate=s,this.endDate=r)}if("object"==typeof n.ranges){for(o in n.ranges)s=e(n.ranges[o][0]),r=e(n.ranges[o][1]),this.minDate&&s.isBefore(this.minDate)&&(s=e(this.minDate)),this.maxDate&&r.isAfter(this.maxDate)&&(r=e(this.maxDate)),this.minDate&&r.isBefore(this.minDate)||this.maxDate&&s.isAfter(this.maxDate)||(this.ranges[o]=[s,r]);var c="<ul>";for(o in this.ranges)c+="<li>"+o+"</li>";c+="<li>"+this.locale.customRangeLabel+"</li>",c+="</ul>",this.container.find(".ranges ul").remove(),this.container.find(".ranges").prepend(c)}if("function"==typeof a&&(this.cb=a),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day")),this.singleDatePicker?(this.opens="right",this.container.find(".calendar.right").show(),this.container.find(".calendar.left").hide(),this.container.find(".ranges").hide(),this.container.find(".calendar.right").hasClass("single")||this.container.find(".calendar.right").addClass("single")):(this.container.find(".calendar.right").removeClass("single"),this.container.find(".ranges").show()),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.oldChosenLabel=this.chosenLabel,this.leftCalendar={month:e([this.startDate.year(),this.startDate.month(),1,this.startDate.hour(),this.startDate.minute()]),calendar:[]},this.rightCalendar={month:e([this.endDate.year(),this.endDate.month(),1,this.endDate.hour(),this.endDate.minute()]),calendar:[]},"right"==this.opens){var u=this.container.find(".calendar.left"),d=this.container.find(".calendar.right");u.removeClass("left").addClass("right"),d.removeClass("right").addClass("left")}"undefined"!=typeof n.ranges||this.singleDatePicker||this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.updateView(),this.updateCalendars()},setStartDate:function(t){"string"==typeof t&&(this.startDate=e(t,this.format)),"object"==typeof t&&(this.startDate=e(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.oldStartDate=this.startDate.clone(),this.updateView(),this.updateCalendars()},setEndDate:function(t){"string"==typeof t&&(this.endDate=e(t,this.format)),"object"==typeof t&&(this.endDate=e(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.oldEndDate=this.endDate.clone(),this.updateView(),this.updateCalendars()},updateView:function(){this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.updateFormInputs()},updateFormInputs:function(){this.container.find("input[name=daterangepicker_start]").val(this.startDate.format(this.format)),this.container.find("input[name=daterangepicker_end]").val(this.endDate.format(this.format)),this.startDate.isSame(this.endDate)||this.startDate.isBefore(this.endDate)?this.container.find("button.applyBtn").removeAttr("disabled"):this.container.find("button.applyBtn").attr("disabled","disabled")},updateFromControl:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.separator),n=null,a=null;2===t.length&&(n=e(t[0],this.format),a=e(t[1],this.format)),(this.singleDatePicker||null===n||null===a)&&(n=e(this.element.val(),this.format),a=n),a.isBefore(n)||(this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.startDate=n,this.endDate=a,this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.updateCalendars())}},notify:function(){this.updateView(),this.cb(this.startDate,this.endDate,this.chosenLabel)},move:function(){var e={top:0,left:0};this.parentEl.is("body")||(e={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()}),"left"==this.opens?(this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,right:t(window).width()-this.element.offset().left-this.element.outerWidth()-e.left,left:"auto"}),this.container.offset().left<0&&this.container.css({right:"auto",left:9})):(this.container.css({top:this.element.offset().top+this.element.outerHeight()-e.top,left:this.element.offset().left-e.left,right:"auto"}),this.container.offset().left+this.container.outerWidth()>t(window).width()&&this.container.css({left:"auto",right:0}))},toggle:function(t){this.element.hasClass("active")?this.hide():this.show()},show:function(e){this.element.addClass("active"),this.container.show(),this.move(),t(document).on("click.daterangepicker",t.proxy(this.outsideClick,this)),t(document).on("click.daterangepicker","[data-toggle=dropdown]",t.proxy(this.outsideClick,this)),this.element.trigger("show.daterangepicker",this)},outsideClick:function(e){var n=t(e.target);n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-date").length||this.hide()},hide:function(e){t(document).off("click.daterangepicker",this.outsideClick),this.element.removeClass("active"),this.container.hide(),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.notify(),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.element.trigger("hide.daterangepicker",this)},enterRange:function(t){var e=t.target.innerHTML;if(e==this.locale.customRangeLabel)this.updateView();else{var n=this.ranges[e];this.container.find("input[name=daterangepicker_start]").val(n[0].format(this.format)),this.container.find("input[name=daterangepicker_end]").val(n[1].format(this.format))}},showCalendars:function(){this.container.addClass("show-calendar"),this.move()},hideCalendars:function(){this.container.removeClass("show-calendar")},updateInputText:function(){this.element.is("input")&&!this.singleDatePicker?this.element.val(this.startDate.format(this.format)+this.separator+this.endDate.format(this.format)):this.element.is("input")&&this.element.val(this.startDate.format(this.format))},clickRange:function(t){var e=t.target.innerHTML;if(this.chosenLabel=e,e==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[e];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()).hour(this.startDate.hour()).minute(this.startDate.minute()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()).hour(this.endDate.hour()).minute(this.endDate.minute()),this.updateCalendars(),this.updateInputText(),this.hideCalendars(),this.hide(),this.element.trigger("apply.daterangepicker",this)}},clickPrev:function(e){var n=t(e.target).parents(".calendar");n.hasClass("left")?this.leftCalendar.month.subtract("month",1):this.rightCalendar.month.subtract("month",1),this.updateCalendars()},clickNext:function(e){var n=t(e.target).parents(".calendar");n.hasClass("left")?this.leftCalendar.month.add("month",1):this.rightCalendar.month.add("month",1),this.updateCalendars()},enterDate:function(e){var n=t(e.target).attr("data-title"),a=n.substr(1,1),i=n.substr(3,1),s=t(e.target).parents(".calendar");s.hasClass("left")?this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[a][i].format(this.format)):this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[a][i].format(this.format))},clickDate:function(n){var a,i,s=t(n.target).attr("data-title"),r=s.substr(1,1),o=s.substr(3,1),l=t(n.target).parents(".calendar");if(l.hasClass("left")){if(a=this.leftCalendar.calendar[r][o],i=this.endDate,"object"==typeof this.dateLimit){var h=e(a).add(this.dateLimit).startOf("day");i.isAfter(h)&&(i=h)}}else if(a=this.startDate,i=this.rightCalendar.calendar[r][o],"object"==typeof this.dateLimit){var c=e(i).subtract(this.dateLimit).startOf("day");a.isBefore(c)&&(a=c)}if(this.singleDatePicker&&l.hasClass("left")?i=a.clone():this.singleDatePicker&&l.hasClass("right")&&(a=i.clone()),l.find("td").removeClass("active"),a.isSame(i)||a.isBefore(i))t(n.target).addClass("active"),this.startDate=a,this.endDate=i,this.chosenLabel=this.locale.customRangeLabel;else if(a.isAfter(i)){t(n.target).addClass("active");var u=this.endDate.diff(this.startDate);this.startDate=a,this.endDate=e(a).add("ms",u),this.chosenLabel=this.locale.customRangeLabel}this.leftCalendar.month.month(this.startDate.month()).year(this.startDate.year()),this.rightCalendar.month.month(this.endDate.month()).year(this.endDate.year()),this.updateCalendars(),this.timePicker||i.endOf("day"),this.singleDatePicker&&this.clickApply()},clickApply:function(t){this.updateInputText(),this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(t){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.chosenLabel=this.oldChosenLabel,this.updateView(),this.updateCalendars(),this.hide(),this.element.trigger("cancel.daterangepicker",this)},updateMonthYear:function(e){var n=t(e.target).closest(".calendar").hasClass("left"),a=n?"left":"right",i=this.container.find(".calendar."+a),s=parseInt(i.find(".monthselect").val(),10),r=i.find(".yearselect").val();this[a+"Calendar"].month.month(s).year(r),this.updateCalendars()},updateTime:function(e){var n=t(e.target).closest(".calendar").hasClass("left"),a=n?"left":"right",i=this.container.find(".calendar."+a),s=parseInt(i.find(".hourselect").val(),10),r=parseInt(i.find(".minuteselect").val(),10);if(this.timePicker12Hour){var o=i.find(".ampmselect").val();"PM"===o&&12>s&&(s+=12),"AM"===o&&12===s&&(s=0)}if(n){var l=this.startDate.clone();l.hour(s),l.minute(r),this.startDate=l,this.leftCalendar.month.hour(s).minute(r)}else{var h=this.endDate.clone();h.hour(s),h.minute(r),this.endDate=h,this.rightCalendar.month.hour(s).minute(r)}this.updateCalendars()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.month(),this.leftCalendar.month.year(),this.leftCalendar.month.hour(),this.leftCalendar.month.minute(),"left"),this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.month(),this.rightCalendar.month.year(),this.rightCalendar.month.hour(),this.rightCalendar.month.minute(),"right"),this.container.find(".calendar.left").empty().html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate)),this.container.find(".calendar.right").empty().html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate)),this.container.find(".ranges li").removeClass("active");var t=!0,e=0;for(var n in this.ranges)this.timePicker?this.startDate.isSame(this.ranges[n][0])&&this.endDate.isSame(this.ranges[n][1])&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()):this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")&&(t=!1,this.chosenLabel=this.container.find(".ranges li:eq("+e+")").addClass("active").html()),e++;t&&(this.chosenLabel=this.container.find(".ranges li:last").addClass("active").html())},buildCalendar:function(t,n,a,i,s){var r,o=e([n,t,1]),l=e(o).subtract("month",1).month(),h=e(o).subtract("month",1).year(),c=e([h,l]).daysInMonth(),u=o.day(),d=[];for(r=0;6>r;r++)d[r]=[];var f=c-u+this.locale.firstDay+1;f>c&&(f-=7),u==this.locale.firstDay&&(f=c-6);var m,p,g=e([h,l,f,12,i]);for(r=0,m=0,p=0;42>r;r++,m++,g=e(g).add("hour",24))r>0&&m%7===0&&(m=0,p++),d[p][m]=g.clone().hour(a),g.hour(12);return d},renderDropdowns:function(t,e,n){for(var a=t.month(),i='<select class="monthselect">',s=!1,r=!1,o=0;12>o;o++)(!s||o>=e.month())&&(!r||o<=n.month())&&(i+="<option value='"+o+"'"+(o===a?" selected='selected'":"")+">"+this.locale.monthNames[o]+"</option>");i+="</select>";for(var l=t.year(),h=n&&n.year()||l+5,c=e&&e.year()||l-50,u='<select class="yearselect">',d=c;h>=d;d++)u+='<option value="'+d+'"'+(d===l?' selected="selected"':"")+">"+d+"</option>";return u+="</select>",i+u},renderCalendar:function(e,n,a,i){var s='<div class="calendar-date">';s+='<table class="table-condensed">',s+="<thead>",s+="<tr>",this.showWeekNumbers&&(s+="<th></th>"),s+=!a||a.isBefore(e[1][1])?'<th class="prev available"><i class="fa fa-arrow-left icon-arrow-left glyphicon glyphicon-arrow-left"></i></th>':"<th></th>";var r=this.locale.monthNames[e[1][1].month()]+e[1][1].format(" YYYY");this.showDropdowns&&(r=this.renderDropdowns(e[1][1],a,i)),s+='<th colspan="5" class="month">'+r+"</th>",s+=!i||i.isAfter(e[1][1])?'<th class="next available"><i class="fa fa-arrow-right icon-arrow-right glyphicon glyphicon-arrow-right"></i></th>':"<th></th>",s+="</tr>",s+="<tr>",this.showWeekNumbers&&(s+='<th class="week">'+this.locale.weekLabel+"</th>"),t.each(this.locale.daysOfWeek,function(t,e){s+="<th>"+e+"</th>"}),s+="</tr>",s+="</thead>",s+="<tbody>";for(var o=0;6>o;o++){s+="<tr>",this.showWeekNumbers&&(s+='<td class="week">'+e[o][0].week()+"</td>");for(var l=0;7>l;l++){var h="available ";h+=e[o][l].month()==e[1][1].month()?"":"off",a&&e[o][l].isBefore(a)||i&&e[o][l].isAfter(i)?h=" off disabled ":e[o][l].format("YYYY-MM-DD")==n.format("YYYY-MM-DD")?(h+=" active ",e[o][l].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&(h+=" start-date "),e[o][l].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&(h+=" end-date ")):e[o][l]>=this.startDate&&e[o][l]<=this.endDate&&(h+=" in-range ",e[o][l].isSame(this.startDate)&&(h+=" start-date "),e[o][l].isSame(this.endDate)&&(h+=" end-date "));var c="r"+o+"c"+l;s+='<td class="'+h.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" data-title="'+c+'">'+e[o][l].date()+"</td>"}s+="</tr>"}s+="</tbody>",s+="</table>",s+="</div>";var u;if(this.timePicker){s+='<div class="calendar-time">',s+='<select class="hourselect">';var d=0,f=23,m=n.hour();for(this.timePicker12Hour&&(d=1,f=12,m>=12&&(m-=12),0===m&&(m=12)),u=d;f>=u;u++)s+=u==m?'<option value="'+u+'" selected="selected">'+u+"</option>":'<option value="'+u+'">'+u+"</option>";for(s+="</select> : ",s+='<select class="minuteselect">',u=0;60>u;u+=this.timePickerIncrement){var p=u;10>p&&(p="0"+p),s+=u==n.minute()?'<option value="'+u+'" selected="selected">'+p+"</option>":'<option value="'+u+'">'+p+"</option>"}s+="</select> ",this.timePicker12Hour&&(s+='<select class="ampmselect">',s+=n.hour()>=12?'<option value="AM">AM</option><option value="PM" selected="selected">PM</option>':'<option value="AM" selected="selected">AM</option><option value="PM">PM</option>',s+="</select>"),s+="</div>"}return s},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData("daterangepicker")}},t.fn.daterangepicker=function(e,a){return this.each(function(){var i=t(this);i.data("daterangepicker")&&i.data("daterangepicker").remove(),i.data("daterangepicker",new n(i,e,a))}),this}}(window.jQuery,window.moment),angular.module("angularjssearchbox",["angularjssearchbox.typeahead","ngDateRange"]).directive("sbFocus",["$timeout",function(t){return function(e,n){t(function(){e.useKeywordFacet||n[0].value||n[0].focus()})}}]).directive("repeatDone",function(){return function(t,e,n){t.bindValueInput(e)}}).directive("searchBox",["$timeout",function(t){return{restrict:"A",templateUrl:"templates/searchBox.html",scope:{resultList:"=",facetList:"=",debug:"=?",dateOptions:"=?",placeholder:"@?"},link:function(e,n,a){function i(t){for(var n in e.facetList)if(e.facetList[n].name===t)return e.facetList[n];return null}function s(t){for(var e in t)for(var n in t[e].items)t[e].items[n].hasOwnProperty("label")||(t[e].items[n].label=t[e].items[n].name);return t}function r(t,n){for(var a in e.facetList)if(e.facetList[a].name===t&&null!=e.facetList[a].values)for(var i in e.facetList[a].values)if(i===n)return e.facetList[a].values[i];return n}function o(t){for(var n in e.facetList)if(e.facetList[n].name===t)return e.facetList[n].type;return"string"}function l(t){var e=[];for(var n in t){var a=new Object;a.key=t[n].key,a.type=o(a.key),a.value=r(a.key,t[n].value),e.push(a)}return e}e.tmpInputValue=null,e.selectedResult=null,e.debug=e.debug||!1,e.placeholder=e.placeholder||"Filtrer les donn√©es",e.useKeywordFacet=!1,e.hasKeywordFacet=!1,e.initDone=!1,e.values={},e.showPlaceHolder=!0,e.toDay=moment().format("DD/MM/YYYY"),e.dateOptions=e.dateOptions||{minDate:"01/01/2004",maxDate:moment().add("years",2),showDropdowns:!0,showWeekNumbers:!1,timePicker:!1,timePickerIncrement:1,timePicker12Hour:!1,ranges:{"Aujourd'hui":[moment(),moment()],"Semestre en cours":moment().get("month")<6?[moment().startOf("year"),moment().startOf("year").add("months",6).subtract("days",1)]:[moment().startOf("year").add("months",6),moment().endOf("year")],"Prochain Semestre":moment().get("month")<6?[moment().startOf("year").add("months",6),moment().endOf("year")]:[moment().startOf("year").add("years",1),moment().endOf("year").add("months",6)],"Mois dernier":[moment().subtract("month",1).startOf("month"),moment().subtract("month",1).endOf("month")],"3 prochains mois":[moment().startOf("month"),moment().add("month",3).endOf("month")]},opens:"right",buttonClasses:["btn btn-default"],applyClass:"btn-small btn-primary",cancelClass:"btn-small",format:"DD/MM/YYYY",separator:" - ",singleDatePicker:!1,locale:{applyLabel:"Valider",cancelLabel:"Annuler",fromLabel:"Du",toLabel:"Au",customRangeLabel:"Calendrier",daysOfWeek:["Di","Lu","Ma","Me","Je","Ve","Sa"],monthNames:["Janvier","F&eacute;vrier","Mars","Avril","Mai","Juin","Juillet","Ao&ucirc;t","Septembre","Octobre","Novembre","D&eacute;cembre"],firstDay:1}},e.dateOptionsDate=angular.copy(e.dateOptions),e.dateOptionsDate.singleDatePicker=!0,e.dateOptionsRange=angular.copy(e.dateOptions),e.changeEventDateRange=function(n,a,i){var s=this.element.context.value,r=this.element[0].attributes["data-tah-index"].value;e.sbResultList[r].value=s,"undefined"!=typeof o&&t.cancel(o);var o=t(function(){if(e.hasKeywordFacet&&"text"!=e.sbResultList[e.sbResultList.length-1].key){var t=e.sbResultList.pop();e.sbResultList.splice(e.sbResultList.length-1,0,t),r+=-1}var n=new Object;n.key=e.sbResultList[r].key,n.type=e.sbResultList[r].type,n.value=s,e.resultList[r]=n,e.selectInputFacet(),e.selectedResult=null},500)},e.$watch("facetList",function(t){e.sbFacetList=s(t),e.initDone=!1,e.sbResultList=l(e.resultList),e.hasOwnProperty("selected")||(e.selected={key:"",value:""})}),e.$watch("resultList",function(t){e.initDone=!1,e.sbResultList=l(t)});var h=[9,13,37,38,39,40];n.find("input").bind("keydown",function(n){-1!==h.indexOf(n.which)&&(n.preventDefault(),13===n.which?(e.useKeywordFacet=!0,t(function(){e.useKeywordFacet&&(e.selected.value="",e.initDone=!0,e.hasKeywordFacet?(e.sbResultList[e.sbResultList.length-1].value+=" "+e.selected.key,e.resultList[e.resultList.length-1].value+=" "+e.selected.key):(e.hasKeywordFacet=!0,e.sbResultList.push({key:"text",type:"string",value:e.selected.key}),e.resultList.push({key:"text",type:"string",value:e.selected.key})),e.selected.key="",t(function(){e.selectInputFacet(),e.selectedResult=null}))})):9===n.which&&e.$apply(function(){}))}),n.find(".input-facet").bind("click",function(t){angular.element("input",t.target).focus()}),n.find("input").bind("focus",function(t){e.$apply(function(){e.showPlaceHolder=!1})}).bind("blur",function(t){e.$apply(function(){e.showPlaceHolder=!0})}),e.bindValueInput=function(n){t(function(){n.find("input").bind("keydown",function(n){return-1===h.indexOf(n.which)?void(e.initDone=!0):(n.preventDefault(),void((13===n.which||9===n.which)&&(e.hasKeywordFacet&&e.$apply(function(){if("text"!=e.sbResultList[e.sbResultList.length-1].key){var t=e.sbResultList.pop();e.sbResultList.splice(e.sbResultList.length-1,0,t)}}),e.$apply(function(){var a=new Object;a.key=e.sbResultList[n.target.dataset.tahIndex].key,a.type=e.sbResultList[n.target.dataset.tahIndex].type,a.value=e.sbResultList[n.target.dataset.tahIndex].value,e.resultList[n.target.dataset.tahIndex]=a,t(function(){e.selectInputFacet()}),e.selectedResult=null}))))})},50)},e.selectInputFacet=function(){n.find("input")[n.find("input").length-1].focus()},e.getFacetLabel=function(t){for(var n in e.sbFacetList)if(e.sbFacetList[n].name==t)return e.sbFacetList[n].label;return"text"===t?"Mot(s) cl√©(s)":t},e.getValueName=function(t,n,a){return e.values[t][n].name||a},e.getValues=function(t,n){var a=i(t);return a?"function"==typeof a.items?e.initDone?(e.initDone=!1,a.items(n,t).then(function(n){return e.values[t]=n,n})):[]:(e.values[t]=a.items,a.items):void 0},e.$on("$typeahead.select",function(n,a,i,s){e.$apply(function(){e.useKeywordFacet=!1,-1==s?(e.selected.value="",e.sbResultList.push({key:a.name,type:a.type,value:""}),e.selected.key="",e.initDone=!0):t(function(){if(e.hasKeywordFacet&&"text"!=e.sbResultList[e.sbResultList.length-1].key){var t=e.sbResultList.pop();e.sbResultList.splice(e.sbResultList.length-1,0,t),s+=-1}var n=new Object;n.key=e.sbResultList[s].key,n.type=e.sbResultList[s].type,n.value=r(n,e.getValueName(n.key,i,a)),e.resultList[s]=n,e.selectInputFacet(),e.selectedResult=null},100)})}),e.selectResult=function(t,n){e.selectedResult=t,angular.element(n.currentTarget).find("input")[0].focus()},e.removeFilter=function(t){"text"===e.sbResultList[t].key&&(e.hasKeywordFacet=!1),e.sbResultList.splice(t,1),e.resultList=e.sbResultList.slice(0)},e.removeAll=function(){e.hasKeywordFacet=!1,e.sbResultList.length=0,e.resultList.length=0}}}}]),angular.module("ngDateRange",[]).directive("dateRange",["$timeout",function(t){return{restrict:"AE",scope:{dateRangeChange:"=",dateRangeOptions:"=",tahIndex:"@?",dateRangeTbutton:"=?"},template:'<span class="SB-addon" ng-if="dateRangeTbutton" ng-click="toggleSingleDate()"><i class="glyphicon glyphicon-calendar fa fa-calendar" ></i>&nbsp;<i class="glyphicon glyphicon-calendar fa fa-calendar" ng-hide="hideRange"></i></span>',link:function(e,n,a){e.dateRangeTbutton=e.dateRangeTbutton||!1,e.tahIndex=e.tahIndex||0,e.dateRangeTbutton&&(a.value.indexOf("-")>-1?e.dateRangeOptions.singleDatePicker=!1:e.dateRangeOptions.singleDatePicker=!0),e.hideRange=e.dateRangeOptions.singleDatePicker,e.hideRange&&(e.dateRangeOptions.startDate=a.value,e.dateRangeOptions.endDate=a.value),n.daterangepicker(e.dateRangeOptions,e.dateRangeChange),t(function(){n.parent().append(n.children().detach())}),e.hideRange&&n.data("daterangepicker").container.find(".calendar.left").after(n.data("daterangepicker").container.find(".calendar.right").detach()),e.$watch("dateRangeOptions",function(t){n.data("daterangepicker").setOptions(t,e.dateRangeChange),e.hideRange=t.singleDatePicker,e.hideRange||n.data("daterangepicker").container.find(".calendar.right").hasClass("single")&&(n.data("daterangepicker").container.find(".calendar.left").show(),n.data("daterangepicker").container.find(".calendar.right").removeClass("single"))}),e.$watch("dateRangeChange",function(t){n.data("daterangepicker").setOptions(e.dateRangeOptions,t),e.hideRange=e.dateRangeOptions.singleDatePicker}),e.toggleSingleDate=function(){n.val()&&e.dateRangeOptions.singleDatePicker&&-1==n.val().indexOf("-")&&(n.val(n.val()+" - "+n.val()),e.dateRangeOptions.startDate=n.val(),e.dateRangeOptions.endDate=n.val()),n.val()&&!e.dateRangeOptions.singleDatePicker&&-1!=n.val().indexOf("-")&&(n.val(n.val().slice(0,n.val().indexOf("-")-1)),e.dateRangeOptions.startDate=n.val(),e.dateRangeOptions.endDate=n.val()),e.dateRangeOptions.singleDatePicker=!e.dateRangeOptions.singleDatePicker,e.dateRangeOptions=angular.copy(e.dateRangeOptions),t(function(){n.data("daterangepicker").notify(),t(function(){n.focus()})})}}}}]),angular.module("angularjssearchbox.tooltip",["mgcrea.ngStrap.helpers.dimensions"]).provider("$sbtooltip",function(){var t=this.defaults={animation:"am-fade",prefixClass:"tooltip",prefixEvent:"tooltip",container:!1,placement:"top",template:"templates/tooltip.html",contentTemplate:!1,trigger:"hover focus",keyboard:!1,html:!1,show:!1,title:"",type:"",delay:0};this.$get=["$window","$rootScope","$compile","$q","$templateCache","$http","$animate","$timeout","dimensions","$$rAF",function(e,n,a,i,s,r,o,l,h,c){function u(e,i){function s(){return"body"===y.container?h.offset(e[0]):h.position(e[0])}function r(t,e,n,a){var i,s=t.split("-");switch(s[0]){case"right":i={top:e.top+e.height/2-a/2,left:e.left+e.width};break;case"bottom":i={top:e.top+e.height,left:e.left+e.width/2-n/2};break;case"left":i={top:e.top+e.height/2-a/2,left:e.left-n};break;default:i={top:e.top-a,left:e.left+e.width/2-n/2}}if(!s[1])return i;if("top"===s[0]||"bottom"===s[0])switch(s[1]){case"left":i.left=e.left;break;case"right":i.left=e.left+e.width-n}else if("left"===s[0]||"right"===s[0])switch(s[1]){case"top":i.top=e.top-a;break;case"bottom":i.top=e.top+e.height}return i}var l={},u=e[0].nodeName.toLowerCase(),y=l.$options=angular.extend({},t,i);l.$promise=f(y.template);var v=l.$scope=y.scope&&y.scope.$new()||n.$new();y.delay&&angular.isString(y.delay)&&(y.delay=parseFloat(y.delay)),y.title&&(l.$scope.title=y.title),v.$hide=function(){v.$$postDigest(function(){l.hide()})},v.$show=function(){v.$$postDigest(function(){l.show()})},v.$toggle=function(){v.$$postDigest(function(){l.toggle()})},l.$isShown=v.$isShown=!1;var D,b;y.contentTemplate&&(l.$promise=l.$promise.then(function(t){var e=angular.element(t);return f(y.contentTemplate).then(function(t){var n=d('[ng-bind="content"]',e[0]);return n.length||(n=d('[ng-bind="title"]',e[0])),n.removeAttr("ng-bind").html(t),e[0].outerHTML})}));var _,k,w,Y;return l.$promise.then(function(t){angular.isObject(t)&&(t=t.data),y.html&&(t=t.replace(g,'ng-bind-html="')),t=m.apply(t),w=t,_=a(t),l.init()}),l.init=function(){y.delay&&angular.isNumber(y.delay)&&(y.delay={show:y.delay,hide:y.delay}),"self"===y.container?Y=e:y.container&&(Y=d(y.container));var t=y.trigger.split(" ");angular.forEach(t,function(t){"click"===t?e.on("click",l.toggle):"manual"!==t&&(e.on("hover"===t?"mouseenter":"focus",l.enter),e.on("hover"===t?"mouseleave":"blur",l.leave),"button"===u&&"hover"!==t&&e.on(p?"touchstart":"mousedown",l.$onFocusElementMouseDown))}),y.show&&v.$$postDigest(function(){"focus"===y.trigger?e[0].focus():l.show()})},l.destroy=function(){for(var t=y.trigger.split(" "),n=t.length;n--;){var a=t[n];"click"===a?e.off("click",l.toggle):"manual"!==a&&(e.off("hover"===a?"mouseenter":"focus",l.enter),e.off("hover"===a?"mouseleave":"blur",l.leave),"button"===u&&"hover"!==a&&e.off(p?"touchstart":"mousedown",l.$onFocusElementMouseDown))}k&&(k.remove(),k=null),v.$destroy()},l.enter=function(){return clearTimeout(D),b="in",y.delay&&y.delay.show?void(D=setTimeout(function(){"in"===b&&l.show()},y.delay.show)):l.show()},l.show=function(){v.$emit(y.prefixEvent+".show.before",l);var t=y.container?Y:null,n=y.container?null:e;k&&k.remove(),k=l.$element=_(v,function(t,e){}),k.css({top:"0px",left:"0px",display:"block"}).addClass(y.placement),y.animation&&k.addClass(y.animation),y.type&&k.addClass(y.prefixClass+"-"+y.type),o.enter(k,t,n,function(){v.$emit(y.prefixEvent+".show",l)}),l.$isShown=v.$isShown=!0,v.$$phase||v.$root.$$phase||v.$digest(),c(l.$applyPlacement),y.keyboard&&("focus"!==y.trigger?(l.focus(),k.on("keyup",l.$onKeyUp)):e.on("keyup",l.$onFocusKeyUp))},l.leave=function(){return clearTimeout(D),b="out",y.delay&&y.delay.hide?void(D=setTimeout(function(){"out"===b&&l.hide()},y.delay.hide)):l.hide()},l.hide=function(t){return l.$isShown?(v.$emit(y.prefixEvent+".hide.before",l),o.leave(k,function(){v.$emit(y.prefixEvent+".hide",l)}),l.$isShown=v.$isShown=!1,v.$$phase||v.$root.$$phase||v.$digest(),y.keyboard&&null!==k&&k.off("keyup",l.$onKeyUp),t&&"focus"===y.trigger?e[0].blur():void 0):void 0},l.toggle=function(){l.$isShown?l.leave():l.enter()},l.focus=function(){k[0].focus()},l.$applyPlacement=function(){if(k){var t=s(),e=k.prop("offsetWidth"),n=k.prop("offsetHeight"),a=r(y.placement,t,e,n);a.top+="px",a.left+="px",k.css(a)}},l.$onKeyUp=function(t){27===t.which&&l.hide()},l.$onFocusKeyUp=function(t){27===t.which&&e[0].blur()},l.$onFocusElementMouseDown=function(t){t.preventDefault(),t.stopPropagation(),l.$isShown?e[0].blur():e[0].focus()},l}function d(t,e){return angular.element((e||document).querySelectorAll(t))}function f(t){return i.when(s.get(t)||r.get(t)).then(function(e){return angular.isObject(e)?(s.put(t,e.data),e.data):e})}var m=String.prototype.trim,p="createTouch"in e.document,g=/ng-bind="/gi;return u}]}).directive("bsTooltip",["$window","$location","$sce","$sbtooltip","$$rAF",function(t,e,n,a,i){return{restrict:"EAC",scope:!0,link:function(t,e,s,r){var o={scope:t};angular.forEach(["template","contentTemplate","placement","container","delay","trigger","keyboard","html","animation","type"],function(t){angular.isDefined(s[t])&&(o[t]=s[t])}),angular.forEach(["title"],function(e){s[e]&&s.$observe(e,function(a,s){t[e]=n.trustAsHtml(a),angular.isDefined(s)&&i(function(){l&&l.$applyPlacement()})})}),s.bsTooltip&&t.$watch(s.bsTooltip,function(e,n){angular.isObject(e)?angular.extend(t,e):t.title=e,angular.isDefined(n)&&i(function(){l&&l.$applyPlacement()})},!0);var l=a(e,o);t.$on("$destroy",function(){l.destroy(),o=null,l=null})}}}]),angular.module("angularjssearchbox.typeahead",["angularjssearchbox.tooltip","mgcrea.ngStrap.helpers.parseOptions"]).provider("$typeahead",function(){var t=this.defaults={animation:"am-fade",prefixClass:"typeahead",placement:"bottom-left",template:"templates/typeAhead.html",trigger:"focus",container:!1,keyboard:!0,html:!1,delay:0,minLength:1,tahIndex:-1,filter:"filter",limit:6};this.$get=function(e,n,a){function i(e,n,i){var s={},r=angular.extend({},t,i);s=a(e,r);var o=i.scope,l=s.$scope;l.$resetMatches=function(){l.$matches=[],l.$activeIndex=0},l.$resetMatches(),l.$activate=function(t){l.$$postDigest(function(){s.activate(t)})},l.$select=function(t,e){l.$$postDigest(function(){s.select(t)})},l.$isVisible=function(){return s.$isVisible()},s.update=function(t){l.$matches=t,l.$activeIndex>=t.length&&(l.$activeIndex=0)},s.activate=function(t){l.$activeIndex=t},s.select=function(t){var e=l.$matches[t].value;n.$setViewValue(e),l.$resetMatches(),n.$render(),o&&o.$digest(),l.$emit("$typeahead.select",e,t,r.tahIndex)},s.$isVisible=function(){return r.minLength&&n?l.$matches.length&&angular.isString(n.$viewValue)&&n.$viewValue.length>=r.minLength:!!l.$matches.length},s.$getIndex=function(t){var e=l.$matches.length,n=e;if(e){for(n=e;n--&&l.$matches[n].value!==t;);if(!(0>n))return n}},s.$onMouseDown=function(t){t.preventDefault(),t.stopPropagation()},s.$onKeyDown=function(t){/(38|40|13)/.test(t.keyCode)&&(t.preventDefault(),t.stopPropagation(),13===t.keyCode&&l.$matches.length?s.select(l.$activeIndex):38===t.keyCode&&l.$activeIndex>0?l.$activeIndex--:40===t.keyCode&&l.$activeIndex<l.$matches.length-1?l.$activeIndex++:angular.isUndefined(l.$activeIndex)&&(l.$activeIndex=0),l.$digest())};var h=s.show;s.show=function(){h(),setTimeout(function(){s.$element.on("mousedown",s.$onMouseDown),r.keyboard&&e.on("keydown",s.$onKeyDown)})};var c=s.hide;return s.hide=function(){s.$element.off("mousedown",s.$onMouseDown),r.keyboard&&e.off("keydown",s.$onKeyDown),c()},s}angular.element(e.document.body);return i.defaults=t,i}}).directive("sbTypeahead",function(t,e,n,a,i){var s=a.defaults;return{restrict:"EAC",require:"ngModel",link:function(t,e,n,r){var o={scope:t};angular.forEach(["placement","container","delay","trigger","keyboard","html","animation","template","filter","limit","tahIndex","minLength"],function(t){angular.isDefined(n[t])&&(o[t]=n[t])});var l=o.filter||s.filter,h=o.limit||s.limit,c=n.ngOptions;l&&(c+=" | "+l+":$viewValue"),h&&(c+=" | limitTo:"+h);var u=i(c),d=a(e,r,o),f=function(){u=i(c),u.valuesFn(t,r).then(function(e){e.length>h&&(e=e.slice(0,h)),(1!==e.length||e[0].value!==t.$modelValue)&&(d.update(e),r.$render())})};n.ngOptionsWatch&&t.$watch(n.ngOptionsWatch,f),
t.$watch(n.ngModel,function(e,n){t.$modelValue=e,f()}),r.$render=function(){if(r.$isEmpty(r.$viewValue))return e.val("");var t=d.$getIndex(r.$modelValue),n=angular.isDefined(t)?d.$scope.$matches[t].label:r.$viewValue;n=angular.isObject(n)?n.label:n,e.val(n.replace(/<(?:.|\n)*?>/gm,"").trim())},t.$on("$destroy",function(){d.destroy(),o=null,d=null})}}});